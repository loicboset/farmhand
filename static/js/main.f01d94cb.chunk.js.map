{"version":3,"sources":["img/pixel.png","img/plot-states/watered-plot.png","img/plot-states/fertilized-plot.png","img/dishes/carrot-soup.png","img/items/carrot.png","img/items/carrot-growing.png","img/items/carrot-seed.png","img/items/pumpkin.png","img/items/pumpkin-growing.png","img/items/pumpkin-seed.png","img/items/fertilizer.png","img/items/scarecrow.png","img/items/sprinkler.png","img/items/cow-feed.png","img/items/milk-1.png","img/items/milk-2.png","img/items/milk-3.png","img/tools/hoe.png","img/tools/scythe.png","img/tools/watering-can.png","img/animals/cows sync /^/.//.*/-cow/.png$","img/animals/cows/blue-cow.png","img/animals/cows/brown-cow.png","img/animals/cows/green-cow.png","img/animals/cows/orange-cow.png","img/animals/cows/purple-cow.png","img/animals/cows/rainbow-cow.png","img/animals/cows/white-cow.png","img/animals/cows/yellow-cow.png","data/recipes.js","Farmhand.context.js","enums.js","constants.js","data/items.js","data/shop-inventory.js","data/fruit-names.js","data/maps.js","img/index.js","utils.js","event-handlers.js","data/achievements.js","templates.js","reducers.js","strings.js","components/AppBar/AppBar.js","components/LogView/LogView.js","components/Item/Item.js","components/PriceEventView/PriceEventView.js","components/ProgressBar/ProgressBar.js","components/Achievement/Achievement.js","components/AchievementsView/AchievementsView.js","components/StatsView/StatsView.js","components/AccountingView/AccountingView.js","components/Navigation/Navigation.js","components/Inventory/Inventory.js","components/Toolbelt/Toolbelt.js","components/PlantableItems/PlantableItems.js","components/FieldTools/FieldTools.js","components/CowPenContextMenu/CowPenContextMenu.js","components/ContextPane/ContextPane.js","components/Plot/Plot.js","components/Field/Field.js","components/Home/Home.js","components/CowPen/CowPen.js","components/TierPurchase/TierPurchase.js","components/Shop/Shop.js","components/Recipe/Recipe.js","components/Kitchen/Kitchen.js","components/Stage/Stage.js","components/NotificationSystem/NotificationSystem.js","components/DebugMenu/DebugMenu.js","mui-theme.js","Farmhand.js","index.js"],"names":["module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","recipe","FarmhandContext","createContext","enumify","reduce","acc","key","cropType","fieldMode","stageFocusType","cropLifeStage","itemType","genders","cowColors","dialogView","freeze","BREAKPOINTS","PURCHASEABLE_FIELD_SIZES","Map","columns","rows","price","PURCHASEABLE_COW_PENS","cows","CARROT","PUMPKIN","SEED","GROWING","COW_FEED","CROP","FERTILIZER","MILK","SCARECROW","SPRINKLER","carrotSeed","doesPriceFluctuate","enablesFieldMode","PLANT","growsInto","isPlantableCrop","name","type","value","carrot","cropTimetable","pumpkinSeed","pumpkin","fertilizer","description","FERTILIZE","sprinkler","SET_SPRINKLER","hoveredPlotRangeSize","isReplantable","scarecrow","SET_SCARECROW","cowFeed","milk1","milk2","milk3","carrotSoup","markup","ingredients","items","condition","state","itemsSold","DISH","sum","itemId","recipesMap","recipes","recipeName","itemsMap","itemName","item","cropIdToTypeMap","pixel","require","plotStates","dishes","tools","hoe","scythe","animals","cow","values","color","lowerCaseColor","toLowerCase","GROWN","shopInventoryMap","shopInventory","chooseRandom","list","Math","round","random","length","memoizationSerializer","args","JSON","stringify","arg","toString","createUniqueId","btoa","Date","now","clampNumber","num","min","max","castToMoney","moneyTotal","scaleNumber","baseMin","baseMax","createNewField","Array","fill","undefined","moneyString","number","Dinero","amount","toFormat","formatNumber","format","precision","convertPrecision","dollarString","integerString","getItemValue","valueAdjustments","toUnit","getAdjustedItemValue","Number","toFixed","isItemSoldInShop","Boolean","getResaleValue","getPlotContentFromItemId","getPlotContentType","doesPlotContainCrop","plot","isItemAGrownCrop","isItemAFarmProduct","getCropId","getCropLifecycleDuration","memoize","getLifeStageRange","stage","concat","getCropLifeStage","daysWatered","floor","cropLifeStageToImageSuffixMap","getFinalCropItemIdFromSeedItemId","seedItemId","getFinalCropItemFromSeedItem","generateCow","options","gender","baseWeight","MALE","daysOld","daysSinceMilking","happiness","happinessBoostsToday","fruitNames","weightMultiplier","getCowMilkItem","getCowMilkRate","FEMALE","Infinity","getCowWeight","getCowValue","canMakeRecipe","inventory","inventoryQuantityMap","quantity","every","finalStageCropItemList","push","findInField","field","find","row","serializer","doesMenuObstructStage","filterCondition","filter","window","screen","width","CLEANUP","HARVEST","WATER","toolbeltFieldModes","handleItemPurchaseClick","howMany","this","purchaseItem","handleMakeRecipeClick","makeRecipe","handleCowPurchaseClick","purchaseCow","handleCowSellClick","sellCow","handleCowHugClick","hugCow","handleCowNameInputChange","target","changeCowName","handleItemSellClick","sellItem","handleItemSellAllClick","sellAllOfItem","handleViewChange","setState","stageFocus","handleFieldModeSelect","selectedItemId","includes","handleHarvestAllClick","harvestAll","handleItemSelectClick","handlePlotClick","x","y","plantInPlot","harvestPlot","clearPlot","waterPlot","fertilizeCrop","setSprinkler","setScarecrow","handleClickEndDayButton","incrementDay","handleAddMoneyClick","money","handleClearPersistedDataClick","clearPersistedData","handleWaterAllPlotsClick","waterAllPlots","handleFieldPurchase","fieldId","purchaseField","handleCowPenPurchase","cowPenId","purchaseCowPen","handleMenuToggle","isMenuOpen","handleClickNextMenuButton","focusNextView","handleClickPreviousMenuButton","focusPreviousView","handleCowSelect","selectCow","handleCowClick","handleCloseNotification","event","reason","doShowNotifications","handleNotificationExited","notifications","handleClickDialogViewButton","currentDialogView","handleCloseDialogView","NONE","handleClickLoanPaydownButton","paydownAmount","adjustLoan","handleClickTakeOutLoanButton","loanAmount","addMoney","reward","sumOfCropsHarvested","cropsHarvested","cropHarvested","achievements","rewardDescription","wasWateredToday","goal","revenue","purchasedCowPen","addItemToInventory","cowColorsPurchased","MILK_PRODUCED","achievement","_","milk","PRICE_CRASH","PRICE_SURGE","LOAN_INCREASED","loanBalance","OBSERVE","incrementCropAge","crop","isFertilized","setWasWateredProperty","plotContent","setWasWatered","resetWasWatered","updateField","modifierFn","applyChanceEvent","chancesAndEvents","chance","fn","processWeather","applyPrecipitation","processNerfs","applyCrows","createPriceEvent","priceEvent","priceEventKey","adjustItemValues","priceCrashes","priceSurges","plotContainsScarecrow","fieldHasScarecrow","notification","message","severity","newDayNotifications","waterField","updatedField","destroyCrop","processSprinklers","crops","modifiedField","forEach","plotY","plotX","rangeSize","centerX","centerY","squareSize","rangeStartX","rangeStartY","getRangeCoords","fieldRow","has","modifyFieldPlotAt","set","processFeedingCows","cowInventory","cowInventoryLength","cowFeedInventoryPosition","findIndex","unitsSpent","i","anyUnitsRemain","decrementItemFromInventory","processMilkingCows","currentItemSlot","currentItem","fieldReducer","fieldUpdaters","processField","computeCowInventoryForNextDay","removeFieldPlotAt","itemInventoryIndex","splice","rotateNotificationLogs","notificationLog","dayCount","error","info","success","warning","unshift","day","generatePriceEvents","cropItem","priceEventType","daysRemaining","getPriceEventForCrop","decrementPriceEventDays","priceEvents","updatePriceEvents","applyLoanInterest","computeStateForNextDay","isFirstDay","cowForSale","totalValue","adjustedItemValue","saleIsGarnished","saleValue","loanGarnishment","garnishedProfit","updateLearnedRecipes","itemInInventory","learnedRecipes","recipeId","ingredientId","showNotification","cowValue","get","newCowInventory","indexOf","modifyCow","cowId","cowIndex","plantableItemId","finalCropItemId","doFertilizersRemain","some","doSprinklersRemain","doScarecrowsRemain","purchasedField","column","newName","slice","selectedCowId","updateAchievements","prevState","completedAchievements","ACHIEVEMENT_COMPLETED","adjustmentAmount","AppBar","viewList","viewTitle","className","position","Toolbar","IconButton","classNames","aria-label","onClick","StepIcon","icon","Typography","variant","Consumer","props","gameState","handlers","LogView","join","Alert","elevation","j","noop","ValueIndicator","poorValue","Tooltip","placement","title","PurchaseValueIndicator","SellValueIndicator","QuantityPurchaseNumberFormat","inputRef","maxQuantityPlayerCanAfford","onChange","rest","isNumericString","thousandSeparator","allowNegative","decimalScale","isAllowed","floatValue","onValueChange","QuantityPurchaseInput","handleUpdateNumber","TextField","inputProps","pattern","InputProps","inputComponent","Item","isPurchaseView","isSelectView","isSelected","isSellView","playerInventoryQuantities","showQuantity","adjustedValue","disableSellButtons","useState","purchaseQuantity","setPurchaseQuantity","useEffect","Card","raised","CardHeader","avatar","src","alt","subheader","CardContent","CardActions","Button","disabled","PriceEventView","Divider","ProgressBar","percent","fixedPercent","style","background","interpolate","Achievement","isComplete","partitionAchievements","complete","incomplete","AchievementsList","ExpansionPanelDetails","AchievementsView","partitionedAchievements","ExpansionPanel","defaultExpanded","ExpansionPanelSummary","StatsView","TableContainer","component","Paper","Table","TableBody","TableRow","TableCell","scope","align","AccountingView","loanInputValue","setLoanInputValue","String","fixedDecimalScale","prefix","onBlur","replace","LOAN_GARNISHMENT_RATE","LOAN_INTEREST_RATE","FARMERS_LOG","PRICE_EVENTS","ACHIEVEMENTS","STATS","ACCOUNTING","dialogTriggerTextMap","dialogTitleMap","dialogContentMap","Navigation","Icon","HistoryIcon","FlashOnIcon","AssignmentTurnedInIcon","TrendingUpIcon","AttachMoneyIcon","Fab","Dialog","fullWidth","maxWidth","onClose","open","DialogTitle","DialogContent","DialogActions","autoFocus","Select","MenuItem","HOME","FIELD","SHOP","COW_PEN","KITCHEN","itemTypesToShowInReverse","Set","sortItemIdsByTypeAndValue","itemIds","sortBy","categoryIds","categoryIdKeys","ANIMAL_PRODUCTS","ANIMAL_SUPPLIES","CROPS","DISHES","FIELD_TOOLS","SEEDS","itemTypeCategoryMap","separateItemsIntoCategories","sort","category","Inventory","playerInventory","itemCategories","headerText","Toolbelt","currentFieldMode","keybinding","toolImageId","selected","backgroundImage","PlantableItems","plantableCropInventory","FieldTools","fieldToolInventory","genderIcons","faVenus","faMars","nullHeartList","isHeartFull","heartIndex","numberOfFullHearts","CowCardSubheader","isCowPurchased","_null","faFullHeart","faEmptyHeart","CowCard","debounced","isNameEditable","setName","placeholder","CowPenContextMenu","onFocus","ContextPane","getBackgroundStyles","backgroundImages","isInHoverRange","rangeFloorX","rangeFloorY","Plot","hoveredPlot","setHoveredPlot","image","itemImages","getPlotImage","lifeStage","onDragEnter","onMouseOver","Field","arr","Home","linkTarget","source","Cow","isMoving","showHugAnimation","randomPosition","repositionTimeoutId","animateMovementTimeoutId","animateHugTimeoutId","animateTimeoutHandler","finishMoving","move","setTimeout","movementAnimationDuration","scheduleMove","repositionTimeoutHandler","waitVariance","prevProps","clearTimeout","hugAnimationDuration","left","top","PopperProps","disablePortal","faHeart","Component","CowPen","TierPurchase","selectedTier","tierValues","tiers","entries","hasPurchasedTier","tierLevel","purchasedTier","handleTierPurchase","selectedTierNumber","onSelectChange","updateSelectedTier","nextTierNumber","nextTierToPurchase","canPlayerBuySelectedTier","renderTierLabel","tier","Shop","IngredientsList","Recipe","canBeMade","Kitchen","Stage","NotificationSystem","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","onExited","DebugMenu","square","createMuiTheme","typography","useNextVariants","stageTitleMap","computePlayerInventory","getFieldToolInventory","getPlantableCropInventory","Farmhand","arguments","localforage","createInstance","hasBooted","initInputHandlers","initReducers","eventHandlers","method","bind","debounce","keyMap","focusCows","focusField","focusHome","focusKitchen","focusShop","nextView","openAccounting","openAchievements","openLog","openPriceEvents","openStats","previousView","selectHoe","selectScythe","selectWateringCan","toggleMenu","keyHandlers","assign","reducerName","reducer","reducers","getItem","then","updatedAchievementsState","clear","COW_PEN_PURCHASED","previousLearnedRecipes","hasOwnProperty","RECIPE_LEARNED","nextDayState","pendingNotifications","setItem","reduceByPersistedKeys","catch","console","currentViewIndex","theme","Provider","Drawer","PaperProps","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f01d94cb.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH4goFDRc7VmYGWwAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAALSURBVAjXY2AAAgAABQAB4iYFmwAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABbklEQVRIia1WvY3GIAz15ToqRqCmZoAMwT4R+3iJ66lTMwIjXGX04tjJp9NZQgFsnv1sfkL0gdRaj0/sPhIN5oH/yekTmOh0/239hkpmbhYQMzcNoJ1Y64mIvrQSjVC8ecvuwsDyrI2IiEopxxiDxhgLRMZPQSwGaFRKWeOUEglYSukCiDaix0wsB+hkjEG994ZjCwhFbGQeM/CtGcQYKYSwxxjXeM5JvfeWc17zzNxCCPuc8+I8xkg55/08zx+XgSc6RcgImSGDzQIXQ/x64LIOwTEjm7drtBMB0c5Qb8mmq64jk37vvWkG2O+93w4jkVEDTdPKse5bzAXndpJF+QSimXrgi4G3573rwcu3u4twEqNGx1gPLLbeDO4uqrUemGthgKBSaLyLiGgVGLNxu001fbwuvPRYRdcZuZwDZm4S6dPVjKlBRxqcSJ0D/fUcWGDM3KRdgnt6/rwXTLcnHLIm316utzf5X/9C3oL6BQBimEemYBpmAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAU0lEQVRYhe2QwQ0AIAjEWMbxnMpBdQFDCIqAXD/3bHNEIBOjt6nZp7IrMVZyUYS1nI0oIY8bUUoeIgIP4IEteAAPuMpDRJR4QMTXESpcpKcxIA0LimnSv8U41HcAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAyklEQVRIie2UvRGCQBCF3znmDAVICYYY0YiVWIKV0AiRhJYABTBUsAbK8bi7PVE0uxcx+/O+XdgBSEpKMpGc/MLLDVpTuRy94rYbUBZ5MGau96AvA+R2PqAsctsUMtRAnDvVvfXeuZMDsM1s0naDl+fY9Ew9whuIjA1MVtmGaRttSjfHr4i8zJ6LZGzmhqwC0AcBTy1z3LsAc41W9Kmm6YH5G/xN3plu3YKnDwE2QVxzDfAVJGQeAwCvO34HotNe9atQQTHGCo8kXQ9f8U/veaBQnAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA3klEQVRIie2UMQ7DIAxFTVUJZcnIBTggU0+RKQfMBTJmQUx0aEDY2FSkdMvbwMn//o4VgJshrFOEdYr/N+m57xalKYaloqKd4o9uk4TzqnrmcqJW5+lOEH92m3BnmqZALJyU86+rDeFEK0E8Fp0Ps/PYyHklzrwwbnWADAAA5lfAJkSMQ9qiLL7tIV9Sw9OsuTmSO+p+2wNYU4zrk0QhAyEJl6Dq3hqNkiCS8JU1TcLWaJRANGGgBdQ9Fc0f+ft6Z8QEzMy7hLkX4rFo1PkvwokqgTV6iLBEhPL3cAMAb8x5cUBYehurAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAc0lEQVRIiWNgGAWjYJiCiZz/aWcg1QyfyPkfq8HoYujqyLYEF00AMOGVzf/OSLJDyALIrkb3FQGDiXMhsiXIgAgfEm8BuiVEBh+xFuALBrxmEGPB/0/d7Dgl+Up/4jWHkAV4DSfGElwWUJJbSYvXUTD0AQDDYTYvCJYfBwAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAp0lEQVRIie2U3Q2AMAiErXEZGcShHeQcpz4YkipQ8CdqjN8bacvBlbZpfj4HEWUiyhx3VycfenCUASRVgCsAkGrrtT2MENCqsNf1PaaAPLyPRWjdvXkH40Rq+2WSMpEVC7ZTcAtnRN0x9S7doz1S1W0CEetci7TR4+QR60Jfhef7IqSLCIuiEwMgjRO5xVVesj8xln2mQEmtbSlis7Io2vZpHvkuXssMLP56RC4nRRUAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAu0lEQVRIie1UuxGDMAyVOUomYA52yRzpU9IzR3bJHExArzQg54S+puIur0On97GFBXB3lAYOZvhZA5wfE3283h9Xo2sVj6JPM4CSAwRuIHMCjtD1SidAoaaJub3cAPEpMBZRyOolk+IRWlCWqi3OYN3yohrnMKD06wYwDj6Z18ah1nYt/DUwk3FDLmjhym8awt/guoE2TG34HOJDi5I1Q/ehZcUtDl9i6rrYU9VGu0/cRcSVqecwwb6b4wsIwjy5qWuN/wAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAkElEQVRIie2SwQ2EIBBFH8YW7MQOKMI69u7Ru3VYhB3YCUWMl9VdAeMYNfEwLyEhn+H/yQAYhmFcpxqRSJLvUuG05sHjAOmaGoB2mA7vAxTaTv7Ncw3cEbDSDhPVqAspd3QBCH41ybKc83uTZGS5AJHPVnA+LQoekroeiUPixMT8LK7f+i4b9bc7m/eQr/EmZqhEI2B1InAFAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAt0lEQVRIid1UwQ3EIAxzK/7dI2MwCaMxScfIHkzAPSoQnJKS0uvj6h8SOI7jALwWRJSJKN+957RHPqTjECkz8zJ7bx0p9CHB0okGsQAzL3vcZjntsMzBOqv/RZ1626aWmhm4Ql7jBoiRKwKuFhf34BvWvZCEuHqINot8SGoRSUjt4Iy0COhsNMJkUVtkJOZxDBfv15vZWXQlLe0bQLfNPAON/PZ3bSI/QdfBbFL2uD2TrPd/1QDwAfx6iTTKaBYOAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAoklEQVRIiWNgGOqAEYf4f2qZh82C/0EzfMgyfV3GFgwzWQgoJhrgchROCxgYGBi2tNgTZbhPzUGccngtQAayu5+j8B+7ShKlj2gLSDEUGTCRolh293MMnxACg8sH5ACiLSDH9QwMBIIIX/Kj2AJyczPRFjAwEJ+b8TmGYCr6f9YBrzyj8QG88gQtIGQAIYDXAmrEw+DJB4PWAqw1Gg3MHMIAAAPVIWaPpOV+AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA4UlEQVRIieWUvQ3CMBCF3yHEIEhsEadKQUHLEkgpvECWyBi0FBRUeIV0bEJjChzkOP45WyBF4kmWT9a9+86OY2Bh0mawRTnFn9d3sNnzvVzAp/goLmTFBBQr1EHWOcfqhXZA1oC+HDHOduzL5QK+JjbA6ngSp8S+RW5ROpxZ/qz/oMTLPSJd9wqDBAYJ1L3yAYsBepDzRbOWhKQAnC6jOeuAgez5tFW47QQaKACwYgE3F8638e3Am9g8lDeOeUIAuxsAoHsrZklmjQKeCZmromuapa6C7qq8h3A5b9H/An6uF4WMRHW3ug60AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAlklEQVRIie1VQQqAMAzLxO/5AP+y4/7iA3zgPDikbG1XrYKIAWFsWRLSgcCPNyOXz8UL0qWUEgAgxujiDb14RYBLeIhrkJI1AlVC7cxsIAnBKm4xaEwoeuKAYQZenKqIg6eipv913tfTYp+DVBE7XAq6pzzl/gyUdIEzbkjKWa44mVZE9zWt8aK5mff4M/0Nbof1J/QhbIFgQxZVKNMbAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABaUlEQVRIie1VO46DMBAdom18idRQEMk3oKfbK1ClQZyFxhXHoPcNkOKCPpdw6S3Qc8aOnZBNmpV2GpBt3m8YIPqvT9U6Sfeb5w57gM/fpSMiUkPpXiV6SqCNpb4VRETU1CIgfptgnaRrakHjbImI/FUNm6M9JFmCdZJOGxuswQlKG/uUJEmwTtKNs/WR9O3NhTbbOt+Ho90EyH2cLcEF1F+uNzcg5b2Jq8g5SJFyIO6kbwVV3ZLEunOA7Hn+2livHHsgOx3zou4IkGVTCw+ArHlETS28AP6WpUi+uHK+Mc6WTsctayjOzQRcgIhXwcEBmmsaokKDc2d5PzxB3EQA8BjiOYjJ4RI4VbcUBw6ujfU2+1YEvQA4sscV5y9XCmbDO1BD6WA7pQjKeTzxmUf3QQ/imF5Z4875Od8M/hal1OaaytdTLoLpU0PpUtOaUl91S/HoQ5ebbO8kfnidpMMPJ/dxU0OZ3fu79QOnNyLrGvOANgAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAlElEQVRIie2UwRGAMAgEL45F2IIV0IB2bQNUoCXYBf70YYBkIuND+cLckoMABEcqqJEWDQ8gzGwWEJGp0zmA5gi3qC/pQiTPSMnv71WLBNC7PwWuV2S1NIB4wgrophdukTrkeQsGAMAylmwxMK26ne6aCg9mPtFu5sNn8AM+AHDX1FvDJoD1gUoj/Ni557qGUVn/TByjTiCJ3SiEogAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAt0lEQVRIicWUwREDIQhFv5ktwhZSAQ0kHVimJaQBKkhKsAty2s0hKrCGyT8q8x8CAgQrGWJkxUMDCDNPA4ho6nNRAMsKL9FmyUKkz0hJz++vJRJgnP1h8HlF12sEEM14APryCy/RsMn3VzAAAB5XyxQDt+e4nOqYCufpfaI2vQ/vgQtQqaEqGZ8GVGoonFE4uyAmwG6+ywMxAUqn0b2z04AVqWOqjeESYPaBrApfduq69jCc8b/RG+oJMonZquS9AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAwUlEQVRIicWUwRECMQhFfxwryCktWAENaNc2QAVaQk5pAS9GHU0CbDYjp50J8x98WIDFEQw5MqOhAYSZhwlENNQ5KIDpWG7R0VKFSJsRgl7fXy0SoF/9S+DdRVOrBxBNuAP60VtuUXfIl/tiAABcT5YtBs63vp3qmgqn4XugPHx3zaBQRlEENwMKZUROiJxcEBOgitcOPBDTqaiC8TmPz28tXB18A3cDtKq1dqBapK3hFGD0A1lj+bFTz7WH4czfJx6xwUOYVCI2qwAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAArElEQVRIic2Uyw2AMAxDXeZiJs4wAT0zE3vBpVQhbdNPgoQlJA71M8FRgR/rCg9/f8kp4O6BbusKANi9T5iTAg4KL6l3Agq/cnA+xcgEokJo7EMT4MLXiuoNiMVKolNotwjIdEF7GNqic4khAPtVvOTuLQpwzEfij4HU0BMgwYtqDRiCtx4chrccVsFrBjVcMpnAS0YzeM5sCucAcziFfAIH2F1kDeeqXsO/1A1lh0cWBV1VQQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAj0lEQVRIie2UwRGAIAwED+uyJShGWqKv+BIVSSAYPo73c5RdcpkR+POFkPRyeQuPMYoSZwAHAHjvq7zRCSiFDBUzIqAUzodDwlWlrSjD1+12PtdVVqWZgIOL6RW04I7bR49AdfNyFy2BBl6dQhIMdf6wToDT9fvaQZObcwJTeAkwhwOVJVvCyxAa//Y/U7IDKo89jAceg5sAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA0klEQVRIie1UwRGEMAgkV8JVYAOWRjWUZgNWYAvxYzJkDwg697vbGWeMJLuyQIj+mKAEsZrc90igikhfMPNjkVdEfhHTta7G3inwr5C8WILOWROYQQGSASLSH0pmZFnUyQhqYcVnAqkiNxzLSu99G77NGiBsUy1yLGt/vyPiWoTQpFqMKLbLEzAtikQ8hHNgoYmgTVmBkBxFGpjZtSldAw+KXIt0IavyqSwaOcG0Y+zWHDjkH2d0zLMovDKivsfY7MJyU/f2YyxzI5qpfxtDZ/wWThNOcCnuawEeAAAAAElFTkSuQmCC\"","var map = {\n\t\"./blue-cow.png\": 191,\n\t\"./brown-cow.png\": 192,\n\t\"./green-cow.png\": 193,\n\t\"./orange-cow.png\": 194,\n\t\"./purple-cow.png\": 195,\n\t\"./rainbow-cow.png\": 196,\n\t\"./white-cow.png\": 197,\n\t\"./yellow-cow.png\": 198\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 190;","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABvklEQVRoge2YS27EIAxA7SpStrldzpGTcA5ux5aVu2ighNh8ZghTqX4S0kwAf7AxJACKoiiKoiiK8ilwgg4aoFOU8a4DueBWgt7afKyMwV4HLsKM8+LAY1urwkrzG2XgV1XLDwSvrzZLzfjWMbUIiEYPWD1RVjrXOC/JQgCAUgTeWnHjPOtkeEZEsaUGHtt660vkYNKg5EDR+JbQco7k87CwBUt9KZwDw4yfQe7AFOON83GFEfEit9THsSS/hxifbzhpXklez0IFBwiEQ6NHGFcteqrRKyxSR2+6PG2oxG0TS+VvBE842XoS/1nEFJqJFJmQCWc/ezDkDuCxrfRkrU9P1mA4WcuOxYaUWwCAzvtGqESPkt5tguG4703/OYbtgVrU8uIgrTrHOZY9pxYAgGNbay8OTeSpkT+vGCj+L7HAb9rc0icY0rsnesfjvt+M5p5xVKsQWRs309C70LZGA8naW56nxp99TVWIJSjoTY2c/EUFk83MrXbiVFdxIeM8GefDa2RsybM4trNVdQjjRVoigKdCqW8EFx2lgyvn/1wlZtw2X9HBhYn7Cjbi69ojOlojMOMT5AwdiqIog/kGkXwJZoNC/c0AAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABu0lEQVRoge2YTY6FIAyA24mH8TDuXXI2l+45jLdhFiNMxZaCj8ebZPolJAqlP1B+FMAwDMMwDMMwPgUOsBE62BR1vBpArriWaFfrj4oMtgZwUebdLAou26EqK/Wv1IFfqpUfAjwfbRbN+VoZbQZEpzuMnqiL9vVulnQhAEBpBl4ace9mNshYF0JIhTq4bMetjehBUqAUQNH5mqnlAsn7YWEJltooXADdnB9BHsAQ572b0wgj4kVvqY1jIs9dnM8XnNSvpK9loGIAAYRDo0UZt1u07EZPmKSG1nR5t6MSt0UsbX89eEeQtSfxn0VMoZFIMxMz4WxnDwZ6K0zPT1LoydUh9gn7zsrhul5eOZkJToeX7QiSUE/o3SY6Hh3V3jm6rQFt1vLNQRp1jlOWPacmAIBlO7QPhyry1MjrFQfF9xIT/KbNLX2iI61rolUe1/XmNFfHoe5CYd9TDna9CxEHqQ1qN3K2iYtYJRpoTY2c/EOFLlZutElQTZtL8G4O3s3xMzIVUpdkG4tqQ5AXqZkBBPls6LXtXmyUDq6c/3OVGHHbfGKDmybuL1iPv2tvsVE7AyN+QY6wYRiG0ZlvXcbtM3EOoHkAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABxElEQVRoge2YyY3FIAxA7VHOtJcKOKUeTqmA9mjAc5iQT4jNks9nRho/CSkB4wXMkgAoiqIoiqIoym+BE2zQAJuijncDyBW3Eu3W+mNFBnsDuCizwYmCu9mqykr9G3XgV9XKDwTPR5ul5nyrTG0GRKcHjJ6oK+1rg5N0IQBAaQbeGnEbHBtkrCOis6QO7ma7tSV6MClQCqDofMvUcoHk/bCwBEttKVwAw5yfQR7AFOdtcOcII+JFb6mNY0mehzifLzipX0lfz0DFAAiEQ6NHGbdb9OxGT1ikht50+bSjErdFLG1/I/hEkK0n8Z9FTKGZSDMTM+FoZw+G9FZ4Pj9JoSdXh9iHvGflcF0vr5zMAofDu9lIEhpJereJjkdHa+8cw9ZAbdbyzUEadY5Dlj2nFgCA3Wy1D4cm8tTI6ysOiu8lFnilzS19oiO9a6JXHtf15jRXx1Hdhch7QLM+ckzCBgdoXg6S97c8T50/2sRFXCUa6E2NnPxDJQ4Mec+OdhJU1+ZCNjiywcXPyLMkdadsZ6naEORFWmYAQT4bRm27Fxulgyvn/1wlZtw2n9jgpon7Czbi79pHbLTOwIxfkDNsKIqiDOYbkFv9oXcptHIAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABuklEQVRoge1Y4Y3FIAiGSxdymq7hKF2j03Qk7sdVaxVEW593yfElJk+FD1AU+wAMBoPBYDAYDIbfAk6wQQNsihxvA8iJWxHsavqoyGBvADcy8k5m3g6drKLfyIFfqpXTFjxfbZ5Qcb5VRtsB0ekBqydypbrkncSFAAC1HXi14uQdG2QYI6LYUgdxO4q5hAeTBrUAqs63bC0XSLHSlSNYm0vBBTDM+RnIA5jiPHkXVxgRb7y1OQ5LyqsZbUF+4CS9Gl/PQoUACISi0UPG3RY9t9ETLNJEb7p82lEJxSGWrr8R+ESQrZX4z0JMoZmQdiZkwjnPFob0VRh/P0mhJ0+HoEP7znOu663LySxwOozbQZLQSKRvm+B4cFTrcxh2BrRdyy8HadVZ3R9Ztk4tAAC4HdqHQ5uhLDXyccVBsV/DAlfaFOkTt7rzTHTXkHUtnObGWF3OfrqStO9XTg6sD4E79rM8Z+aqt9BNNw+AMwDwrlpzh7mQv2x2XS5E3hF5Fz4jY0vGomxnU20I8iJaChmCXBtGXbs3G7XCleP/PCVmvDaf2GAPMSMz4t+1j9ho3YEZf0HOsGEwGAyD8Q19f/jIZC7JBQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABxElEQVRoge2Yy43EIAxA7VXOqSMd0UyONJOOqIMG2MOELCE2BoZhV1o/CSkB4w+YTwKgKIqiKIqiKL8FTrARBthkdbwbQK64lmhX6o+CDLYGcFPmrGcFt30VlZX6V+rAL9HKiwD9o00iOV8rI80A6/SA0WN1pX2d9ZwuBAAozcBbI+6sJ4OMdSGEq6QObvv6aEv0YFKgFEDR+ZqppQLJ+2FhCZbaUqgAhjk/gzyAKc47668RRsSb3lIbxZI8D3E+X3Bcv5K+loGKAQRgDo0WZdRu0bIb9bBwDa3p8mlHOR6LmNv+RvCJIGtP4j8Lm0Iz4WYmZsLZTh4M6a3weu5JoZ6rQ+wTjoOUQ2Nur5TMAqfD274GTmgk6d0mOh4dld4phq0BadbyzYEbdYpTljynFgCAbV+lD4cq8tTI6wUH2fcSC/ykzSN9oiOta6JVHo15OE3VUYi7UDgOQNMXCIezHtCsl4MvG/c8T50/29hFLBINtKZGTv6hEgcmHAc52klQTZtLcNYHZ338jLxKUnfJNhbRBiPPUjMDCPzZMGrbvdkoHVw5/+cqMeO22WODmibqL9iIv2sfsVE7AzN+Qc6woSiKMphvWcEHQsLA1iwAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACNUlEQVRoge2YPW7CMBTH/w+hIgTXQB1yCy6R3oA5GwzpwsIWqVtvUE7QjVtk4B4smV6HxE7i70BIK9U/yRLE9vuwn99zAkQikUgkEolEIr8FTaCDR9BplfGoA6rgUIRe33zyjKGhDvSE7XmnDTjhoxG98Au7bQEAh9VGnx8mg2ZeLY0u3L/aZoGN8U5yv0qfA1bDgwywCS0S0PoimwYt6nYklxMEAHOXnrstBACuWmO6j4sElJVgbsUTURuOtND6kHPtjOHM2nbAafyg1edKriIXSa+LHEfQ1dfF5MB4xk+A6sAkxnORyBXuhQ8AcNXr8x3k7hkYx3g19Ymz4JB30DqbOe8vXnXCAYalaKhx6+JEn/rDgHrwCNYsNMRwwGL8BGiHmItksPGhUFaOLjO0Ev9ZXIVsMvrh1/ktMpCliAG6A0RZyc8KIaAOIyFfXCP4fDaPTf3FbA6A+bYFrS8iEz2XnEEZAVkpDac0BQDvfxMzAKDV98N2ma7WPXLuFSXbqptoxhrrVB1CtPC9OASx5119n1dzv6eaqs4McW6GNmy08KGsvC/1cdVvHkwh4gqbLt4sxOdzLSwrx7vI5QxKSa601KHoFTR9QVnIiFCgvnzseWOZYeHY2rDEFZS+SvmmsOk4NSi5MBcJc5GItzHZOs/k2IFNzlviyktcQ8dbCdkBaoy39Y0BAeCvxuY32AuXyv+5SjzjIqbydseGmmaYvoKN8XXtKTpCd2CKT5BT6IhEIpGR+QG4Bej6ikQYYQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABkklEQVRoge2XW7LDIAhAoZM9do2u0vtRTQiCYKJpZy7nozNW5KEIBiAIgiAIgiAIvgU+YCNPsKnquBsAV+yl2rXWoyGDowGclOWs60aH6t56pw58mVaKLbi+27JCw3mvzGbpuKO8t5buLtfF55STwP1Hs2M54YEbrw7R9XSszRU9jb9aCk1xvspW+d5Oczx3CEAOYJrzT8DDXOa8lBqaXmlOSyF6iZfl/Ki+kY2qAWRQmsaIMilvvbl8FbWMjqbLakc1mktMq8ZsVgTp7cQ/i9WJH0E7GasCAbQBICLmlbWed10AgJySKmuxAUAurbpWoqXQt011HN9v11hi2h2wTo0XB23XxbUfWdHABvDJG01gBJ4a/H/DQXXc4wVH2jTpg4iXSl/dbW9JllKklzYUswrllI6cnXS59yd12emcUuMwPYUyp38UtPrJ27xzke50a+kyN/KHTTUNzADYBK/Jo0eyr9NsOPw74WlkSA2OGnBystFrXJz/85R44rV5xYYYwK86K+E9gSce+9/5oAiCILjFH63h5sly4OzXAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABt0lEQVRoge1YW46FIAxtb0xcj6txja7G9fDV+RhRxJYWRe4k05PwoZTTB6VFARwOh8PhcDgcjm8BO+igBjpFjqcO5MRWRL3aelRksNaBExmFSWYeV52ssN7IgR9Vy6YL7kebJ1SMt8poOyAa3SB6Ile6lsIkcSEAQGkHHkWcwsQ6Gd8R0T5SA3FcL3MJDyYDSg4UjbdsLefIJdKFI1iaS8E50Mz4Hsgd6GI8hWmPMCKeeEtzHIaUV1NqQX7gpHUlvppARQcIhKZRQ8ZVi5pqdAeDNFGbLm8bKuFyiKXy1wJvOGntxH8WYgr1hLQzMRO2ebYx5A4gjiu9WevTzhoNp2URZGeVbwAA2u4bsRK9ivRuEw3HeTY9c2h2BrRdy4uDFHV27a8s26cGAAAcV+3DwaYoS438vWKg+FzCB460uaQPjuut0hejbS3JXIqU0uYkx+lPI0nLcuRkw8MduffnzGBmjj2fJgc4BQDPujV3mC/yh86q4kIUJqIwxc/IfSTvdtnKoeoQ5EVYGhlCsivMXAucdJQaV47/c5Xocdu8o4M9xIxMi79rr+iw7kCPX5A9dDgcDkdj/ACrFwU14KjkhAAAAABJRU5ErkJggg==\"","/**\n * @module farmhand.recipes\n */\nimport { itemType } from '../enums'\n\nimport * as items from './items'\n\nconst itemify = recipe =>\n  Object.freeze({\n    ...recipe,\n    type: itemType.DISH,\n    value:\n      recipe.markup +\n      Object.keys(recipe.ingredients).reduce(\n        (sum, itemId) => sum + items[itemId].value * recipe.ingredients[itemId],\n        0\n      ),\n  })\n\n/**\n * @property farmhand.module:recipes.carrotSoup\n * @type {farmhand.recipe}\n */\nexport const carrotSoup = itemify({\n  id: 'carrot-soup',\n  name: 'Carrot Soup',\n  markup: 15,\n  ingredients: {\n    [items.carrot.id]: 4,\n  },\n  condition: state => (state.itemsSold[items.carrot.id] || 0) > 3,\n})\n","import { createContext } from 'react'\n\nconst FarmhandContext = createContext()\n\nexport default FarmhandContext\n","/**\n * @module farmhand.enums\n */\n\n/**\n * @param {Array.<string>} keys\n * @returns {Object.<string>}\n */\nexport const enumify = keys =>\n  keys.reduce((acc, key) => ({ [key]: key, ...acc }), {})\n\n/**\n * @property farmhand.module:enums.cropType\n * @enum {string}\n */\nexport const cropType = enumify(['CARROT', 'PUMPKIN'])\n\n/**\n * @property farmhand.module:enums.fieldMode\n * @enum {string}\n */\nexport const fieldMode = enumify([\n  'CLEANUP',\n  'FERTILIZE',\n  'HARVEST',\n  'OBSERVE',\n  'PLANT',\n  'SET_SPRINKLER',\n  'SET_SCARECROW',\n  'WATER',\n])\n\n/**\n * @property farmhand.module:enums.stageFocusType\n * @enum {string}\n */\nexport const stageFocusType = enumify([\n  'NONE', // Useed for testing\n  'HOME',\n  'FIELD',\n  'SHOP',\n  'COW_PEN',\n  'KITCHEN',\n  'INVENTORY',\n])\n\n/**\n * @property farmhand.module:enums.cropLifeStage\n * @enum {string}\n */\nexport const cropLifeStage = enumify(['SEED', 'GROWING', 'GROWN'])\n\n/**\n * @property farmhand.module:enums.itemType\n * @enum {string}\n */\nexport const itemType = enumify([\n  'COW_FEED',\n  'CROP',\n  'DISH',\n  'FERTILIZER',\n  'MILK',\n  'SCARECROW',\n  'SPRINKLER',\n])\n\n/**\n * @property farmhand.module:enums.genders\n * @enum {string}\n */\nexport const genders = enumify(['FEMALE', 'MALE'])\n\n/**\n * @property farmhand.module:enums.cowColors\n * @enum {string}\n */\nexport const cowColors = enumify([\n  'BLUE',\n  'BROWN',\n  'GREEN',\n  'ORANGE',\n  'PURPLE',\n  'WHITE',\n  'YELLOW',\n])\n\n/**\n * @property farmhand.module:enums.dialogView\n * @enum {string}\n */\nexport const dialogView = enumify([\n  'NONE',\n  'FARMERS_LOG',\n  'PRICE_EVENTS',\n  'ACHIEVEMENTS',\n  'STATS',\n  'ACCOUNTING',\n])\n","const { freeze } = Object\n\n// This MUST be kept in sync with the $break- variables in variables.sass.\nexport const BREAKPOINTS = {\n  XS: 0,\n  SM: 600,\n  MD: 960,\n  LG: 1280,\n  XL: 1920,\n}\n\nexport const STANDARD_LOAN_AMOUNT = 500\n\nexport const LOAN_GARNISHMENT_RATE = 0.05\nexport const LOAN_INTEREST_RATE = 0.02\n\nexport const FERTILIZER_BONUS = 0.5\nexport const FERTILIZER_ITEM_ID = 'fertilizer'\n\nexport const INITIAL_FIELD_WIDTH = 6\nexport const INITIAL_FIELD_HEIGHT = 10\n\nexport const PURCHASEABLE_FIELD_SIZES = freeze(\n  new Map([\n    [1, { columns: 8, rows: 12, price: 1000 }],\n    [2, { columns: 10, rows: 16, price: 2000 }],\n    [3, { columns: 12, rows: 18, price: 3000 }],\n  ])\n)\n\nexport const PURCHASEABLE_COW_PENS = freeze(\n  new Map([\n    [1, { cows: 10, price: 1500 }],\n    [2, { cows: 20, price: 2500 }],\n    [3, { cows: 30, price: 3500 }],\n  ])\n)\n\n// Buff/nerf chances\nexport const CROW_CHANCE = 0.1\nexport const PRECIPITATION_CHANCE = 0.1\nexport const STORM_CHANCE = 0.5\n\nexport const SCARECROW_ITEM_ID = 'scarecrow'\nexport const SPRINKLER_ITEM_ID = 'sprinkler'\nexport const SPRINKLER_RANGE = 1\n\nexport const COW_STARTING_WEIGHT_BASE = 1800\nexport const COW_STARTING_WEIGHT_VARIANCE = 200\n\nexport const MAX_ANIMAL_NAME_LENGTH = 30\n\nexport const MALE_COW_WEIGHT_MULTIPLIER = 1.1\n\nexport const COW_HUG_BENEFIT = 0.05\nexport const MAX_DAILY_COW_HUG_BENEFITS = 3\n\nexport const COW_WEIGHT_MULTIPLIER_FEED_BENEFIT = 0.1\nexport const COW_WEIGHT_MULTIPLIER_MINIMUM = 0.5\nexport const COW_WEIGHT_MULTIPLIER_MAXIMUM = 1.5\n\nexport const COW_MILK_RATE_SLOWEST = 5\nexport const COW_MILK_RATE_FASTEST = 0\n\nexport const COW_FEED_ITEM_ID = 'cow-feed'\n\nexport const COW_MAXIMUM_AGE_VALUE_DROPOFF = 100\nexport const COW_MINIMUM_VALUE_MULTIPLIER = 0.5\nexport const COW_MAXIMUM_VALUE_MULTIPLIER = 1.5\n\nexport const NOTIFICATION_DURATION = 6000\nexport const NOTIFICATION_LOG_SIZE = 14\n\nexport const PRICE_EVENT_CHANCE = 0.2\nexport const PRICE_EVENT_STANDARD_DURATION_DECREASE = 1\n","/**\n * @module farmhand.items\n */\n\nimport { cropLifeStage, cropType, fieldMode, itemType } from '../enums'\nimport {\n  COW_FEED_ITEM_ID,\n  FERTILIZER_ITEM_ID,\n  SPRINKLER_RANGE,\n} from '../constants'\n\nconst { freeze } = Object\nconst { CARROT, PUMPKIN } = cropType\nconst { SEED, GROWING } = cropLifeStage\nconst { COW_FEED, CROP, FERTILIZER, MILK, SCARECROW, SPRINKLER } = itemType\n\n////////////////////////////////////////\n//\n// CROPS\n//\n////////////////////////////////////////\n\n/**\n * @property farmhand.module:items.carrotSeed\n * @type {farmhand.item}\n */\nexport const carrotSeed = freeze({\n  cropType: CARROT,\n  doesPriceFluctuate: true,\n  enablesFieldMode: fieldMode.PLANT,\n  growsInto: 'carrot',\n  id: 'carrot-seed',\n  isPlantableCrop: true,\n  name: 'Carrot Seed',\n  type: CROP,\n  value: 20,\n})\n\n/**\n * @property farmhand.module:items.carrot\n * @type {farmhand.item}\n */\nexport const carrot = freeze({\n  cropType: CARROT,\n  cropTimetable: {\n    [SEED]: 2,\n    [GROWING]: 3,\n  },\n  doesPriceFluctuate: true,\n  id: 'carrot',\n  name: 'Carrot',\n  type: CROP,\n  value: 40,\n})\n\n/**\n * @property farmhand.module:items.pumpkinSeed\n * @type {farmhand.item}\n */\nexport const pumpkinSeed = freeze({\n  cropType: PUMPKIN,\n  doesPriceFluctuate: true,\n  enablesFieldMode: fieldMode.PLANT,\n  growsInto: 'pumpkin',\n  id: 'pumpkin-seed',\n  isPlantableCrop: true,\n  name: 'Pumpkin Seed',\n  type: CROP,\n  value: 40,\n})\n\n/**\n * @property farmhand.module:items.pumpkin\n * @type {farmhand.item}\n */\nexport const pumpkin = freeze({\n  cropType: PUMPKIN,\n  cropTimetable: {\n    [SEED]: 3,\n    [GROWING]: 5,\n  },\n  doesPriceFluctuate: true,\n  id: 'pumpkin',\n  name: 'Pumpkin',\n  type: CROP,\n  value: 80,\n})\n\n////////////////////////////////////////\n//\n// FIELD TOOLS\n//\n////////////////////////////////////////\n\n/**\n * @property farmhand.module:items.fertilizer\n * @type {farmhand.item}\n */\nexport const fertilizer = freeze({\n  description: 'Helps crops grow and mature a little faster.',\n  enablesFieldMode: fieldMode.FERTILIZE,\n  id: FERTILIZER_ITEM_ID,\n  name: 'Fertilizer',\n  type: FERTILIZER,\n  value: 60,\n})\n\n/**\n * @property farmhand.module:items.sprinkler\n * @type {farmhand.item}\n */\nexport const sprinkler = freeze({\n  description: 'Automatically waters adjacent plants every day.',\n  enablesFieldMode: fieldMode.SET_SPRINKLER,\n  hoveredPlotRangeSize: SPRINKLER_RANGE,\n  id: 'sprinkler',\n  isReplantable: true,\n  name: 'Sprinkler',\n  type: SPRINKLER,\n  value: 120,\n})\n\n/**\n * @property farmhand.module:items.scarecrow\n * @type {farmhand.item}\n */\nexport const scarecrow = freeze({\n  description:\n    'Prevents crows from eating your crops. One scarecrow covers an entire field, but they are afraid of storms.',\n  enablesFieldMode: fieldMode.SET_SCARECROW,\n  id: 'scarecrow',\n  isReplantable: true,\n  name: 'Scarecrow',\n  type: SCARECROW,\n  value: 160,\n})\n\n////////////////////////////////////////\n//\n// COW ITEMS\n//\n////////////////////////////////////////\n\n/**\n * @property farmhand.module:items.cowFeed\n * @type {farmhand.item}\n */\nexport const cowFeed = freeze({\n  id: COW_FEED_ITEM_ID,\n  name: 'Cow Feed',\n  type: COW_FEED,\n  value: 5,\n})\n\n/**\n * @property farmhand.module:items.milk1\n * @type {farmhand.item}\n */\nexport const milk1 = freeze({\n  id: 'milk-1',\n  name: 'Grade C Milk',\n  type: MILK,\n  value: 40,\n})\n\n/**\n * @property farmhand.module:items.milk2\n * @type {farmhand.item}\n */\nexport const milk2 = freeze({\n  id: 'milk-2',\n  name: 'Grade B Milk',\n  type: MILK,\n  value: 80,\n})\n\n/**\n * @property farmhand.module:items.milk3\n * @type {farmhand.item}\n */\nexport const milk3 = freeze({\n  id: 'milk-3',\n  name: 'Grade A Milk',\n  type: MILK,\n  value: 120,\n})\n","import {\n  // Plantable crops\n  carrotSeed,\n  pumpkinSeed,\n\n  // Field items\n  fertilizer,\n  scarecrow,\n  sprinkler,\n} from './items'\n\nexport default [\n  // Plantable crops\n  carrotSeed,\n  pumpkinSeed,\n\n  // Field items\n  fertilizer,\n  scarecrow,\n  sprinkler,\n]\n","// Adapted from https://simple.wikipedia.org/wiki/List_of_fruits\nexport default [\n  'Akee',\n  'Apple',\n  'Apricot',\n  'Avocado',\n  'Açaí',\n  'Banana',\n  'Bilberry',\n  'Blackberry',\n  'Blackcurrant',\n  'Blueberry',\n  'Boysenberry',\n  'Cantaloupe',\n  'Cherimoya',\n  'Cherry',\n  'Chico',\n  'Clementine',\n  'Cloudberry',\n  'Coconut',\n  'Crabapple',\n  'Cranberry',\n  'Cucumber',\n  'Currant',\n  'Damson',\n  'Durian',\n  'Elderberry',\n  'Feijoa',\n  'Fig',\n  'Goji',\n  'Gooseberry',\n  'Grape',\n  'Grapefruit',\n  'Guava',\n  'Honeyberry',\n  'Honeydew',\n  'Huckleberry',\n  'Jabuticaba',\n  'Jackfruit',\n  'Jambul',\n  'Jostaberry',\n  'Jujube',\n  'Juniper',\n  'Kiwano',\n  'Kiwi',\n  'Kumquat',\n  'Lemon',\n  'Lime',\n  'Longan',\n  'Loquat',\n  'Lychee',\n  'Mandarine',\n  'Mango',\n  'Mangosteen',\n  'Marion',\n  'Melon',\n  'Mulberry',\n  'Nance',\n  'Nectarine',\n  'Olive',\n  'Orange',\n  'Papaya',\n  'Peach',\n  'Pear',\n  'Persimmon',\n  'Pineapple',\n  'Pineberry',\n  'Pitaya',\n  'Plantain',\n  'Plum',\n  'Plumcot',\n  'Pomegranate',\n  'Pomelo',\n  'Prune',\n  'Pumpkin',\n  'Quince',\n  'Raisin',\n  'Rambutan',\n  'Raspberry',\n  'Salak',\n  'Salal',\n  'Salmonberry',\n  'Sapote',\n  'Satsuma',\n  'Soursop',\n  'Strawberry',\n  'Surinam',\n  'Tamarillo',\n  'Tamarind',\n  'Tangerine',\n  'Tomato',\n  'Watermelon',\n  'Yuzu',\n  'Zucchini',\n]\n","import * as items from '../data/items'\nimport * as recipes from '../data/recipes'\nimport { cropType } from '../enums'\n\nconst { CARROT, PUMPKIN } = cropType\n\nexport const recipesMap = Object.keys(recipes).reduce((acc, recipeName) => {\n  const recipe = recipes[recipeName]\n  acc[recipe.id] = recipe\n  return acc\n}, {})\n\nexport const itemsMap = {\n  ...Object.keys(items).reduce((acc, itemName) => {\n    const item = items[itemName]\n    acc[item.id] = item\n    return acc\n  }, {}),\n  ...recipesMap,\n}\n\nexport const cropIdToTypeMap = {\n  [CARROT]: 'carrot',\n  [PUMPKIN]: 'pumpkin',\n}\n","import { cowColors } from '../enums'\n\nexport const pixel = require('./pixel.png')\n\nexport const plotStates = {\n  'watered-plot': require('./plot-states/watered-plot.png'),\n  'fertilized-plot': require('./plot-states/fertilized-plot.png'),\n}\n\nexport const dishes = {\n  'carrot-soup': require('./dishes/carrot-soup.png'),\n}\n\nexport const items = {\n  // Crops\n  carrot: require('./items/carrot.png'),\n  'carrot-growing': require('./items/carrot-growing.png'),\n  'carrot-seed': require('./items/carrot-seed.png'),\n\n  pumpkin: require('./items/pumpkin.png'),\n  'pumpkin-growing': require('./items/pumpkin-growing.png'),\n  'pumpkin-seed': require('./items/pumpkin-seed.png'),\n\n  // Field tools\n  fertilizer: require('./items/fertilizer.png'),\n  scarecrow: require('./items/scarecrow.png'),\n  sprinkler: require('./items/sprinkler.png'),\n\n  // Cow items\n  'cow-feed': require('./items/cow-feed.png'),\n  'milk-1': require('./items/milk-1.png'),\n  'milk-2': require('./items/milk-2.png'),\n  'milk-3': require('./items/milk-3.png'),\n\n  ...dishes,\n}\n\nexport const tools = {\n  hoe: require('./tools/hoe.png'),\n  scythe: require('./tools/scythe.png'),\n  'watering-can': require('./tools/watering-can.png'),\n}\n\nexport const animals = {\n  cow: Object.values(cowColors).reduce((acc, color) => {\n    const lowerCaseColor = color.toLowerCase()\n    acc[lowerCaseColor] = require(`./animals/cows/${lowerCaseColor}-cow.png`)\n    return acc\n  }, {}),\n}\n","import Dinero from 'dinero.js'\nimport memoize from 'fast-memoize'\n\nimport shopInventory from './data/shop-inventory'\nimport fruitNames from './data/fruit-names'\nimport { cropIdToTypeMap, itemsMap } from './data/maps'\nimport { milk1, milk2, milk3 } from './data/items'\nimport { items as itemImages } from './img'\nimport { cowColors, cropLifeStage, genders, itemType } from './enums'\nimport {\n  BREAKPOINTS,\n  COW_MAXIMUM_AGE_VALUE_DROPOFF,\n  COW_MAXIMUM_VALUE_MULTIPLIER,\n  COW_MILK_RATE_FASTEST,\n  COW_MILK_RATE_SLOWEST,\n  COW_MINIMUM_VALUE_MULTIPLIER,\n  COW_STARTING_WEIGHT_BASE,\n  COW_STARTING_WEIGHT_VARIANCE,\n  COW_WEIGHT_MULTIPLIER_MAXIMUM,\n  COW_WEIGHT_MULTIPLIER_MINIMUM,\n  INITIAL_FIELD_HEIGHT,\n  INITIAL_FIELD_WIDTH,\n  MALE_COW_WEIGHT_MULTIPLIER,\n  PRICE_EVENT_STANDARD_DURATION_DECREASE,\n} from './constants'\n\nconst { SEED, GROWING, GROWN } = cropLifeStage\n\nconst shopInventoryMap = shopInventory.reduce((acc, item) => {\n  acc[item.id] = item\n  return acc\n}, {})\n\nconst chooseRandom = list => list[Math.round(Math.random() * (list.length - 1))]\n\n// Ensures that the condition argument to memoize() is not ignored, per\n// https://github.com/caiogondim/fast-memoize.js#function-arguments\n//\n// Pass this is the `serializer` option to any memoize()-ed functions that\n// accept function arguments.\nconst memoizationSerializer = args =>\n  JSON.stringify(\n    [...args].map(arg => (typeof arg === 'function' ? arg.toString() : arg))\n  )\n\n/**\n * @returns {string}\n */\nconst createUniqueId = () => btoa(Math.random() + Date.now())\n\n/**\n * @param {number} num\n * @param {number} min\n * @param {number} max\n */\nexport const clampNumber = (num, min, max) =>\n  num <= min ? min : num >= max ? max : num\n\nexport const castToMoney = num => Math.round(num * 100) / 100\n\n/**\n * Safely adds dollar figures to avoid IEEE 754 rounding errors.\n * @param {...number} num Numbers that represent money values.\n * @returns {number}\n * @see http://adripofjavascript.com/blog/drips/avoiding-problems-with-decimal-math-in-javascript.html\n */\nexport const moneyTotal = (...args) =>\n  args.reduce((sum, num) => (sum += Math.round(num * 100)), 0) / 100\n\n/**\n * Based on https://stackoverflow.com/a/14224813/470685\n * @param {number} value Number to scale\n * @param {number} min Non-standard minimum\n * @param {number} max Non-standard maximum\n * @param {number} baseMin Standard minimum\n * @param {number} baseMax Standard maximum\n * @returns {number}\n */\nconst scaleNumber = (value, min, max, baseMin, baseMax) =>\n  ((value - min) * (baseMax - baseMin)) / (max - min) + baseMin\n\nexport const createNewField = () =>\n  new Array(INITIAL_FIELD_HEIGHT)\n    .fill(undefined)\n    .map(() => new Array(INITIAL_FIELD_WIDTH).fill(null))\n\n/**\n * @param {number} number\n * @returns {string} Include dollar sign and other formatting, as well as cents.\n */\nexport const moneyString = number =>\n  Dinero({ amount: Math.round(number * 100) }).toFormat()\n\n/**\n * @param {number} number\n * @param {string} format\n * @see https://dinerojs.com/module-dinero#~toFormat\n * @returns {string}\n */\nconst formatNumber = (number, format) =>\n  Dinero({ amount: Math.round(number * 100), precision: 2 })\n    .convertPrecision(0)\n    .toFormat(format)\n\n/**\n * @param {number} number\n * @returns {string} Include dollar sign and other formatting. Cents are\n * rounded off.\n */\nexport const dollarString = number => formatNumber(number, '$0,0')\n\n/**\n * @param {number} number\n * @returns {string} Number string with commas.\n */\nexport const integerString = number => formatNumber(number, '0,0')\n\n/**\n * @param {farmhand.item} item\n * @param {Object.<number>} valueAdjustments\n * @returns {number}\n */\nexport const getItemValue = ({ id }, valueAdjustments) =>\n  Dinero({\n    amount: Math.round(\n      (valueAdjustments[id]\n        ? itemsMap[id].value *\n          (itemsMap[id].doesPriceFluctuate ? valueAdjustments[id] : 1)\n        : itemsMap[id].value) * 100\n    ),\n    precision: 2,\n  }).toUnit()\n\n/**\n * @param {Object} valueAdjustments\n * @param {string} itemId\n * @returns {number} Rounded to a money value.\n */\nexport const getAdjustedItemValue = (valueAdjustments, itemId) =>\n  Number(((valueAdjustments[itemId] || 1) * itemsMap[itemId].value).toFixed(2))\n\n/**\n * @param {farmhand.item} item\n * @returns {boolean}\n */\nexport const isItemSoldInShop = ({ id }) => Boolean(shopInventoryMap[id])\n\n/**\n * @param {farmhand.item} item\n * @returns {number}\n */\nexport const getResaleValue = ({ id }) => itemsMap[id].value / 2\n\n/**\n * @param {string} itemId\n * @returns {farmhand.crop}\n */\nexport const getCropFromItemId = itemId => ({\n  ...getPlotContentFromItemId(itemId),\n  daysOld: 0,\n  daysWatered: 0,\n  isFertilized: false,\n  wasWateredToday: false,\n})\n\n/**\n * @param {string} itemId\n * @returns {farmhand.plotContent}\n */\nexport const getPlotContentFromItemId = itemId => ({\n  itemId,\n})\n\n/**\n * @param {farmhand.plotContent} plotContent\n * @returns {string}\n */\nexport const getPlotContentType = ({ itemId }) => itemsMap[itemId].type\n\n/**\n * @param {?farmhand.plotContent} plot\n * @returns {boolean}\n */\nexport const doesPlotContainCrop = plot =>\n  plot && getPlotContentType(plot) === itemType.CROP\n\n/**\n * @param {farmhand.item} item\n * @returns {boolean}\n */\nexport const isItemAGrownCrop = item =>\n  Boolean(item.type === itemType.CROP && item.cropTimetable)\n\n/**\n * @param {farmhand.item} item\n * @returns {boolean}\n */\nexport const isItemAFarmProduct = item =>\n  Boolean(isItemAGrownCrop(item) || item.type === itemType.MILK)\n\n/**\n * @param {farmhand.crop} crop\n * @returns {string}\n */\nexport const getCropId = ({ itemId }) =>\n  cropIdToTypeMap[itemsMap[itemId].cropType]\n\n/**\n * @param {farmhand.crop} crop\n * @returns {number}\n */\nexport const getCropLifecycleDuration = memoize(({ cropTimetable }) =>\n  Object.values(cropTimetable).reduce((acc, value) => acc + value, 0)\n)\n\n/**\n * @param {farmhand.cropTimetable} cropTimetable\n * @returns {Array.<enums.cropLifeStage>}\n */\nexport const getLifeStageRange = memoize(cropTimetable =>\n  [SEED, GROWING].reduce(\n    (acc, stage) => acc.concat(Array(cropTimetable[stage]).fill(stage)),\n    []\n  )\n)\n\n/**\n * @param {farmhand.crop} crop\n * @returns {enums.cropLifeStage}\n */\nexport const getCropLifeStage = ({ itemId, daysWatered }) =>\n  getLifeStageRange(itemsMap[itemId].cropTimetable)[Math.floor(daysWatered)] ||\n  GROWN\n\nconst cropLifeStageToImageSuffixMap = {\n  [SEED]: 'seed',\n  [GROWING]: 'growing',\n}\n\n/**\n * @param {farmhand.plotContent} plotContent\n * @returns {?string}\n */\nexport const getPlotImage = plotContent =>\n  plotContent\n    ? getPlotContentType(plotContent) === itemType.CROP\n      ? getCropLifeStage(plotContent) === GROWN\n        ? itemImages[getCropId(plotContent)]\n        : itemImages[\n            `${getCropId(plotContent)}-${\n              cropLifeStageToImageSuffixMap[getCropLifeStage(plotContent)]\n            }`\n          ]\n      : itemImages[plotContent.itemId]\n    : null\n\n/**\n * @param {number} rangeSize\n * @param {number} centerX\n * @param {number} centerY\n * @returns {Array.<Array.<?farmhand.plotContent>>}\n */\nexport const getRangeCoords = (rangeSize, centerX, centerY) => {\n  const squareSize = 2 * rangeSize + 1\n  const rangeStartX = centerX - rangeSize\n  const rangeStartY = centerY - rangeSize\n\n  return new Array(squareSize)\n    .fill()\n    .map((_, y) =>\n      new Array(squareSize)\n        .fill()\n        .map((_, x) => ({ x: rangeStartX + x, y: rangeStartY + y }))\n    )\n}\n\n/**\n * @param {string} seedItemId\n * @returns {string}\n */\nexport const getFinalCropItemIdFromSeedItemId = seedItemId =>\n  itemsMap[seedItemId].growsInto\n\n/**\n * @param {farmhand.item} seedItem\n * @returns {farmhand.item}\n */\nexport const getFinalCropItemFromSeedItem = ({ id }) =>\n  itemsMap[getFinalCropItemIdFromSeedItemId(id)]\n\n/**\n * @param {farmhand.priceEvent} priceCrashes\n * @param {farmhand.priceEvent} priceSurges\n * @returns {Object}\n */\nexport const generateValueAdjustments = (priceCrashes, priceSurges) =>\n  Object.keys(itemsMap).reduce((acc, key) => {\n    if (itemsMap[key].doesPriceFluctuate) {\n      if (priceCrashes[key]) {\n        acc[key] = 0.5\n      } else if (priceSurges[key]) {\n        acc[key] = 1.5\n      } else {\n        acc[key] = Math.random() + 0.5\n      }\n    }\n\n    return acc\n  }, {})\n\n/**\n * Generates a friendly cow.\n * @param {Object} [options]\n * @returns {farmhand.cow}\n */\nexport const generateCow = (options = {}) => {\n  const gender = options.gender || chooseRandom(Object.values(genders))\n\n  const baseWeight = Math.round(\n    COW_STARTING_WEIGHT_BASE *\n      (gender === genders.MALE ? MALE_COW_WEIGHT_MULTIPLIER : 1) -\n      COW_STARTING_WEIGHT_VARIANCE +\n      Math.random() * (COW_STARTING_WEIGHT_VARIANCE * 2)\n  )\n\n  return {\n    baseWeight,\n    color: chooseRandom(Object.values(cowColors)),\n    daysOld: 1,\n    daysSinceMilking: 0,\n    gender,\n    happiness: 0,\n    happinessBoostsToday: 0,\n    id: createUniqueId(),\n    name: chooseRandom(fruitNames),\n    weightMultiplier: 1,\n    ...options,\n  }\n}\n\n/**\n * @param {farmhand.cow} cow\n * @returns {farmhand.item}\n */\nexport const getCowMilkItem = ({ happiness }) => {\n  if (happiness < 1 / 3) {\n    return milk1\n  } else if (happiness < 2 / 3) {\n    return milk2\n  }\n\n  return milk3\n}\n\n/**\n * @param {farmhand.cow} cow\n * @returns {number}\n */\nexport const getCowMilkRate = cow =>\n  cow.gender === genders.FEMALE\n    ? scaleNumber(\n        cow.weightMultiplier,\n        COW_WEIGHT_MULTIPLIER_MINIMUM,\n        COW_WEIGHT_MULTIPLIER_MAXIMUM,\n        COW_MILK_RATE_SLOWEST,\n        COW_MILK_RATE_FASTEST\n      )\n    : Infinity\n\n/**\n * @param {farmhand.cow} cow\n * @returns {number}\n */\nexport const getCowWeight = ({ baseWeight, weightMultiplier }) =>\n  Math.round(baseWeight * weightMultiplier)\n\n/**\n * @param {farmhand.cow} cow\n * @returns {number}\n */\nexport const getCowValue = cow =>\n  getCowWeight(cow) *\n  clampNumber(\n    scaleNumber(\n      cow.daysOld,\n      1,\n      COW_MAXIMUM_AGE_VALUE_DROPOFF,\n      COW_MAXIMUM_VALUE_MULTIPLIER,\n      COW_MINIMUM_VALUE_MULTIPLIER\n    ),\n    COW_MINIMUM_VALUE_MULTIPLIER,\n    COW_MAXIMUM_VALUE_MULTIPLIER\n  )\n\n/**\n * @param {farmhand.recipe} recipe\n * @param {Array.<farmhand.item>} inventory\n * @returns {boolean}\n */\nexport const canMakeRecipe = memoize(({ ingredients }, inventory) => {\n  const inventoryQuantityMap = inventory.reduce((acc, { id, quantity }) => {\n    acc[id] = quantity\n    return acc\n  }, {})\n\n  return Object.keys(ingredients).every(\n    itemId => inventoryQuantityMap[itemId] >= ingredients[itemId]\n  )\n})\n\n/**\n * @type {Array.<farmhand.item>}\n */\nconst finalStageCropItemList = Object.keys(itemsMap).reduce((acc, itemId) => {\n  const item = itemsMap[itemId]\n\n  if (isItemAGrownCrop(item)) {\n    acc.push(item)\n  }\n\n  return acc\n}, [])\n\n/**\n * @returns {farmhand.item} A final stage, non-seed item.\n */\nexport const getRandomCropItem = () =>\n  finalStageCropItemList[\n    Math.floor(Math.random() * finalStageCropItemList.length)\n  ]\n\n/**\n * @param {farmhand.item} cropItem\n * @returns {farmhand.priceEvent}\n */\nexport const getPriceEventForCrop = cropItem => ({\n  itemId: cropItem.id,\n  daysRemaining:\n    getCropLifecycleDuration(cropItem) - PRICE_EVENT_STANDARD_DURATION_DECREASE,\n})\n\n/**\n * @param {Array.<Array.<?farmhand.plotContent>>} field\n * @param {function(?farmhand.plotContent)} condition\n * @returns {?farmhand.plotContent}\n */\nexport const findInField = memoize(\n  (field, condition) => field.find(row => row.find(condition)) || null,\n  {\n    serializer: memoizationSerializer,\n  }\n)\n\n// This is currently unused, but it could be useful later.\n/**\n * @param {Array.<Array.<?farmhand.plotContent>>} field\n * @param {function(?farmhand.plotContent)} filterCondition\n * @returns {Array.<Array.<?farmhand.plotContent>>}\n */\nexport const getCrops = memoize(\n  (field, filterCondition) =>\n    field.reduce((acc, row) => {\n      acc.push(...row.filter(filterCondition))\n\n      return acc\n    }, []),\n  {\n    serializer: memoizationSerializer,\n  }\n)\n\n/**\n * @returns {boolean}\n */\nexport const doesMenuObstructStage = () => window.screen.width < BREAKPOINTS.SM\n","import { moneyTotal } from './utils'\nimport { dialogView, fieldMode } from './enums'\n\nconst {\n  CLEANUP,\n  FERTILIZE,\n  HARVEST,\n  PLANT,\n  SET_SCARECROW,\n  SET_SPRINKLER,\n  WATER,\n} = fieldMode\n\nconst toolbeltFieldModes = [CLEANUP, HARVEST, WATER]\n\nexport default {\n  /**\n   * @param {farmhand.item} item\n   * @param {number} [howMany=1]\n   */\n  handleItemPurchaseClick(item, howMany = 1) {\n    this.purchaseItem(item, howMany)\n  },\n\n  /**\n   * @param {farmhand.recipe} recipe\n   */\n  handleMakeRecipeClick(recipe) {\n    this.makeRecipe(recipe)\n  },\n\n  /**\n   * @param {farmhand.cow} cow\n   */\n  handleCowPurchaseClick(cow) {\n    this.purchaseCow(cow)\n  },\n\n  /**\n   * @param {farmhand.cow} cow\n   */\n  handleCowSellClick(cow) {\n    this.sellCow(cow)\n  },\n\n  /**\n   * @param {farmhand.cow} cow\n   */\n  handleCowHugClick(cow) {\n    this.hugCow(cow.id)\n  },\n\n  /**\n   * @param {external:React.SyntheticEvent} e\n   * @param {farmhand.cow} cow\n   */\n  handleCowNameInputChange({ target: { value } }, cow) {\n    this.changeCowName(cow.id, value)\n  },\n\n  /**\n   * @param {farmhand.item} item\n   */\n  handleItemSellClick(item) {\n    this.sellItem(item)\n  },\n\n  /**\n   * @param {farmhand.item} item\n   */\n  handleItemSellAllClick(item) {\n    this.sellAllOfItem(item)\n  },\n\n  /**\n   * @param {external:React.SyntheticEvent} e\n   */\n  handleViewChange({ target: { value } }) {\n    this.setState({ stageFocus: value })\n  },\n\n  /**\n   * @param {farmhand.module:enums.fieldMode} fieldMode\n   */\n  handleFieldModeSelect(fieldMode) {\n    this.setState(({ selectedItemId }) => ({\n      selectedItemId:\n        fieldMode !== PLANT || toolbeltFieldModes.includes(fieldMode)\n          ? ''\n          : selectedItemId,\n      fieldMode,\n    }))\n  },\n\n  handleHarvestAllClick() {\n    this.harvestAll()\n  },\n\n  handleItemSelectClick({ id, enablesFieldMode, hoveredPlotRangeSize = 0 }) {\n    this.setState({\n      fieldMode: enablesFieldMode,\n      hoveredPlotRangeSize,\n      selectedItemId: id,\n    })\n  },\n\n  /**\n   * @param {number} x\n   * @param {number} y\n   */\n  handlePlotClick(x, y) {\n    const { selectedItemId, fieldMode } = this.state\n\n    if (fieldMode === PLANT) {\n      this.plantInPlot(x, y, selectedItemId)\n    } else if (fieldMode === HARVEST) {\n      this.harvestPlot(x, y)\n    } else if (fieldMode === CLEANUP) {\n      this.clearPlot(x, y)\n    } else if (fieldMode === WATER) {\n      this.waterPlot(x, y)\n    } else if (fieldMode === FERTILIZE) {\n      this.fertilizeCrop(x, y)\n    } else if (fieldMode === SET_SPRINKLER) {\n      this.setSprinkler(x, y)\n    } else if (fieldMode === SET_SCARECROW) {\n      this.setScarecrow(x, y)\n    }\n  },\n\n  handleClickEndDayButton() {\n    this.incrementDay()\n  },\n\n  /**\n   * @param {number} amount\n   */\n  handleAddMoneyClick(amount) {\n    this.setState(({ money }) => ({ money: moneyTotal(money, amount) }))\n  },\n\n  handleClearPersistedDataClick() {\n    this.clearPersistedData()\n  },\n\n  handleWaterAllPlotsClick() {\n    this.waterAllPlots(this.state)\n  },\n\n  /**\n   * @param {number} fieldId\n   */\n  handleFieldPurchase(fieldId) {\n    this.purchaseField(fieldId)\n  },\n\n  /**\n   * @param {number} cowPenId\n   */\n  handleCowPenPurchase(cowPenId) {\n    this.purchaseCowPen(cowPenId)\n  },\n\n  handleMenuToggle() {\n    this.setState(({ isMenuOpen }) => ({ isMenuOpen: !isMenuOpen }))\n  },\n\n  handleClickNextMenuButton() {\n    this.focusNextView()\n  },\n\n  handleClickPreviousMenuButton() {\n    this.focusPreviousView()\n  },\n\n  /**\n   * @param {farmhand.cow}\n   */\n  handleCowSelect(cow) {\n    this.selectCow(cow)\n  },\n\n  /**\n   * @param {farmhand.cow}\n   */\n  handleCowClick(cow) {\n    this.selectCow(cow)\n    this.hugCow(cow.id)\n  },\n\n  handleCloseNotification(event, reason) {\n    this.setState(() => ({ doShowNotifications: false }))\n  },\n\n  handleNotificationExited() {\n    this.setState({ notifications: [] })\n  },\n\n  /**\n   * @param {farmhand.module:enums.dialogView} dialogView\n   */\n  handleClickDialogViewButton(dialogView) {\n    this.setState({ currentDialogView: dialogView })\n  },\n\n  handleCloseDialogView() {\n    this.setState({ currentDialogView: dialogView.NONE })\n  },\n\n  /**\n   * @param {number} paydownAmount\n   */\n  handleClickLoanPaydownButton(paydownAmount) {\n    this.adjustLoan(-paydownAmount)\n  },\n\n  /**\n   * @param {number} loanAmount\n   */\n  handleClickTakeOutLoanButton(loanAmount) {\n    this.adjustLoan(loanAmount)\n  },\n}\n","import memoize from 'fast-memoize'\n\nimport {\n  findInField,\n  getCropLifeStage,\n  doesPlotContainCrop,\n  dollarString,\n  moneyTotal,\n} from '../utils'\nimport { cowColors, cropLifeStage } from '../enums'\nimport { COW_FEED_ITEM_ID } from '../constants'\nimport { addItemToInventory } from '../reducers'\n\nimport { itemsMap } from './maps'\n\nconst { SEED } = cropLifeStage\n\nconst addMoney = (state, reward) => ({\n  ...state,\n  money: moneyTotal(state.money, reward),\n})\n\nconst sumOfCropsHarvested = memoize(cropsHarvested =>\n  Object.values(cropsHarvested).reduce(\n    (sum, cropHarvested) => sum + cropHarvested,\n    0\n  )\n)\n\nconst cowFeed = itemsMap[COW_FEED_ITEM_ID]\n\nconst achievements = [\n  ((reward = 100) => ({\n    id: 'plant-crop',\n    name: 'Plant a Crop',\n    description: 'Purchase a seed and plant it in the field.',\n    rewardDescription: dollarString(reward),\n    condition: state =>\n      findInField(\n        state.field,\n        plot => doesPlotContainCrop(plot) && getCropLifeStage(plot) === SEED\n      ),\n    reward: state => addMoney(state, reward),\n  }))(),\n\n  ((reward = 150) => ({\n    id: 'water-crop',\n    name: 'Water a Crop',\n    description: 'Water a crop that you planted.',\n    rewardDescription: dollarString(reward),\n    condition: state =>\n      findInField(\n        state.field,\n        plot => doesPlotContainCrop(plot) && plot.wasWateredToday\n      ),\n    reward: state => addMoney(state, reward),\n  }))(),\n\n  ((reward = 200) => ({\n    id: 'harvest-crop',\n    name: 'Harvest a Crop',\n    description: 'Harvest a crop that you planted.',\n    rewardDescription: dollarString(reward),\n    condition: state => sumOfCropsHarvested(state.cropsHarvested) >= 1,\n    reward: state => addMoney(state, reward),\n  }))(),\n\n  ((goal = 15) => ({\n    id: 'master-harvester',\n    name: 'Master Harvester',\n    description: `Harvest ${goal} crops to prove you've mastered the art of the harvest.`,\n    rewardDescription: 'The \"Harvest All\" skill',\n    condition: state => sumOfCropsHarvested(state.cropsHarvested) >= goal,\n    reward: state => state,\n  }))(),\n\n  ((goal = 10000) => ({\n    id: 'unlock-crop-price-guide',\n    name: 'Prove Yourself as a Farmer',\n    description: `Show that you can run a farm by earning at least ${dollarString(\n      goal\n    )}. Proven farmers get access to the Crop Price Guide, an invaluable tool for making better buying and selling decisions!`,\n    rewardDescription: 'Crop Price Guide',\n    condition: state => state.revenue >= goal,\n    // Reward is a no-op for this achievement. The value of\n    // state.completedAchievements['unlock-crop-price-guide'] (which is\n    // automatically set to `true` in the achievement processing logic) is used\n    // to gate the price guides.\n    reward: state => state,\n  }))(),\n\n  ((reward = 15) => ({\n    id: 'purchase-cow-pen',\n    name: 'Purchase a Cow Pen',\n    description:\n      'Construct any size cow pen to let your bovine buddies moo-ve on in!',\n    rewardDescription: `${reward} units of ${cowFeed.name}`,\n    condition: state => state.purchasedCowPen > 0,\n    reward: state => addItemToInventory(state, cowFeed, reward),\n  }))(),\n\n  ((reward = 100) => ({\n    id: 'purchase-all-cow-colors',\n    name: 'Cows of Many Colors',\n    description: 'Show that you love all cows and purchase one of every color.',\n    rewardDescription: `${reward} units of ${cowFeed.name}`,\n    condition: state =>\n      Object.values(cowColors).every(\n        color => state.cowColorsPurchased[color] > 0\n      ),\n    reward: state => addItemToInventory(state, cowFeed, reward),\n  }))(),\n]\n\nexport default achievements\n\nexport const achievementsMap = achievements.reduce((acc, achievement) => {\n  acc[achievement.id] = achievement\n\n  return acc\n}, {})\n","import { moneyString } from './utils'\n\n/**\n * @param {farmhand.crop} crop\n * @returns {string}\n */\nexport const CROW_ATTACKED = (_, crop) => `Oh no a crow ate your ${crop.name}!`\n\n/**\n * @param {number} cows\n * @returns {string}\n */\nexport const COW_PEN_PURCHASED = (_, cows) =>\n  `Purchased a cow pen with capacity for ${cows} cows! You can visit your cow pen by going to the \"Cows\" page.`\n\n/**\n * @param {farmhand.cow} cow\n * @param {farmhand.item} milk\n * @returns {string}\n */\nexport const MILK_PRODUCED = (_, cow, milk) =>\n  `${cow.name} produced a ${milk.name} for you!`\n\n/**\n * @param {farmhand.recipe} recipe\n * @returns {string}\n */\nexport const RECIPE_LEARNED = (_, recipe) =>\n  `You learned how to make ${recipe.name}!`\n\n/**\n * @param {farmhand.item} cropItem\n * @returns {string}\n */\nexport const PRICE_CRASH = (_, { name }) =>\n  `${name} prices have bottomed out! Avoid selling them until prices return to normal.`\n\n/**\n * @param {farmhand.item} cropItem\n * @returns {string}\n */\nexport const PRICE_SURGE = (_, { name }) =>\n  `${name} prices are at their peak! Now is the time to sell!`\n\n/**\n * @param {farmhand.achievement} achievement\n * @returns {string}\n */\nexport const ACHIEVEMENT_COMPLETED = (_, { name, rewardDescription }) =>\n  `You achieved \"${name}!\" Way to go!\n\nYou earned: ${rewardDescription}`\n\n/**\n * @returns {string}\n */\nexport const LOAN_PAYOFF = () =>\n  `You paid off your loan to the bank! You're finally free!`\n\n/**\n * @returns {string}\n */\nexport const LOAN_INCREASED = (_, loanBalance) =>\n  `You took out a new loan. Your current balance is ${moneyString(\n    loanBalance\n  )}.`\n","import { itemsMap, recipesMap } from './data/maps'\nimport achievements from './data/achievements'\nimport {\n  canMakeRecipe,\n  castToMoney,\n  clampNumber,\n  findInField,\n  generateCow,\n  generateValueAdjustments,\n  getAdjustedItemValue,\n  getResaleValue,\n  getCowMilkItem,\n  getCowMilkRate,\n  getCowValue,\n  getCropFromItemId,\n  getCropLifeStage,\n  getFinalCropItemIdFromSeedItemId,\n  getPlotContentFromItemId,\n  getPlotContentType,\n  getPriceEventForCrop,\n  getRandomCropItem,\n  getRangeCoords,\n  isItemAFarmProduct,\n  isItemSoldInShop,\n  moneyTotal,\n} from './utils'\nimport {\n  COW_FEED_ITEM_ID,\n  COW_HUG_BENEFIT,\n  COW_WEIGHT_MULTIPLIER_FEED_BENEFIT,\n  COW_WEIGHT_MULTIPLIER_MAXIMUM,\n  COW_WEIGHT_MULTIPLIER_MINIMUM,\n  CROW_CHANCE,\n  FERTILIZER_BONUS,\n  FERTILIZER_ITEM_ID,\n  LOAN_GARNISHMENT_RATE,\n  LOAN_INTEREST_RATE,\n  MAX_ANIMAL_NAME_LENGTH,\n  MAX_DAILY_COW_HUG_BENEFITS,\n  NOTIFICATION_LOG_SIZE,\n  PRICE_EVENT_CHANCE,\n  PURCHASEABLE_COW_PENS,\n  PURCHASEABLE_FIELD_SIZES,\n  PRECIPITATION_CHANCE,\n  SCARECROW_ITEM_ID,\n  SPRINKLER_ITEM_ID,\n  SPRINKLER_RANGE,\n  STORM_CHANCE,\n} from './constants'\nimport {\n  RAIN_MESSAGE,\n  STORM_MESSAGE,\n  STORM_DESTROYS_SCARECROWS_MESSAGE,\n} from './strings'\nimport {\n  ACHIEVEMENT_COMPLETED,\n  CROW_ATTACKED,\n  LOAN_INCREASED,\n  LOAN_PAYOFF,\n  MILK_PRODUCED,\n  PRICE_CRASH,\n  PRICE_SURGE,\n} from './templates'\nimport { cropLifeStage, fieldMode, itemType } from './enums'\n\nconst { FERTILIZE, OBSERVE, SET_SCARECROW, SET_SPRINKLER } = fieldMode\nconst { GROWN } = cropLifeStage\n\n///////////////////////////////////////////////////////////\n//\n// Local helper functions\n//\n///////////////////////////////////////////////////////////\n\n/**\n * @param {?farmhand.crop} crop\n * @returns {?farmhand.crop}\n */\nexport const incrementCropAge = crop =>\n  crop && {\n    ...crop,\n    daysOld: crop.daysOld + 1,\n    daysWatered:\n      crop.daysWatered +\n      (crop.wasWateredToday\n        ? 1 + (crop.isFertilized ? FERTILIZER_BONUS : 0)\n        : 0),\n  }\n\n/**\n * @param {?farmhand.plotContent} plotContent\n * @param {boolean} wasWateredToday\n * @returns {?farmhand.plotContent}\n */\nconst setWasWateredProperty = (plotContent, wasWateredToday) => {\n  if (plotContent === null) {\n    return null\n  }\n\n  return getPlotContentType(plotContent) === itemType.CROP\n    ? { ...plotContent, wasWateredToday }\n    : { ...plotContent }\n}\n\n/**\n * @param {?farmhand.plotContent} plotContent\n * @returns {?farmhand.plotContent}\n */\nexport const setWasWatered = plotContent =>\n  setWasWateredProperty(plotContent, true)\n\n/**\n * @param {?farmhand.plotContent} plotContent\n * @returns {?farmhand.plotContent}\n */\nexport const resetWasWatered = plotContent =>\n  setWasWateredProperty(plotContent, false)\n\n/**\n * Invokes a function on every plot in a field.\n * @param {Array.<Array.<?farmhand.plotContent>>} field\n * @param {Function(?farmhand.plotContent)} modifierFn\n * @returns {Array.<Array.<?farmhand.plotContent>>}\n */\nconst updateField = (field, modifierFn) =>\n  field.map((row, y) => row.map((plot, x) => modifierFn(plot, x, y)))\n\n/**\n * @param {Array} chancesAndEvents An array of arrays in which the first\n * element is a number and the second number is a function.\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nconst applyChanceEvent = (chancesAndEvents, state) =>\n  chancesAndEvents.reduce(\n    (acc, [chance, fn]) => (Math.random() <= chance ? fn(acc) : acc),\n    state\n  )\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const processWeather = state =>\n  applyChanceEvent([[PRECIPITATION_CHANCE, applyPrecipitation]], state)\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const processNerfs = state => applyChanceEvent([[1, applyCrows]], state)\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.priceEvent} priceEvent\n * @param {string} priceEventKey Either 'priceCrashes' or 'priceSurges'\n * @returns {farmhand.state}\n */\nexport const createPriceEvent = (state, priceEvent, priceEventKey) => ({\n  [priceEventKey]: {\n    ...state[priceEventKey],\n    [priceEvent.itemId]: priceEvent,\n  },\n})\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nconst adjustItemValues = state => ({\n  ...state,\n  valueAdjustments: generateValueAdjustments(\n    state.priceCrashes,\n    state.priceSurges\n  ),\n})\n\n/**\n * @param {?farmhand.plotContent} plot\n * @returns {boolean}\n */\nconst plotContainsScarecrow = plot => plot && plot.itemId === SCARECROW_ITEM_ID\n\n/**\n * @param {Array.<Array.<?farmhand.plotContent>>} field\n * @returns {boolean}\n */\nconst fieldHasScarecrow = field => findInField(field, plotContainsScarecrow)\n\n///////////////////////////////////////////////////////////\n//\n// Exported reducers\n//\n///////////////////////////////////////////////////////////\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const applyPrecipitation = state => {\n  let { field } = state\n  let notification\n\n  if (Math.random() < STORM_CHANCE) {\n    if (fieldHasScarecrow(field)) {\n      notification = {\n        message: STORM_DESTROYS_SCARECROWS_MESSAGE,\n        severity: 'error',\n      }\n\n      field = updateField(field, plot =>\n        plotContainsScarecrow(plot) ? null : plot\n      )\n    } else {\n      notification = { message: STORM_MESSAGE, severity: 'info' }\n    }\n  } else {\n    notification = { message: RAIN_MESSAGE, severity: 'info' }\n  }\n\n  state = {\n    ...state,\n    field,\n    newDayNotifications: [...state.newDayNotifications, notification],\n  }\n\n  state = waterField(state)\n\n  return state\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const applyCrows = state => {\n  const { field } = state\n  const newDayNotifications = [...state.newDayNotifications]\n\n  const updatedField = fieldHasScarecrow(field)\n    ? field\n    : updateField(field, plotContent => {\n        if (!plotContent || getPlotContentType(plotContent) !== itemType.CROP) {\n          return plotContent\n        }\n\n        const destroyCrop = Math.random() <= CROW_CHANCE\n\n        if (destroyCrop) {\n          newDayNotifications.push({\n            message: CROW_ATTACKED`${itemsMap[plotContent.itemId]}`,\n            severity: 'error',\n          })\n        }\n\n        return destroyCrop ? null : plotContent\n      })\n\n  return { ...state, field: updatedField, newDayNotifications }\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const processSprinklers = state => {\n  const { field } = state\n  const crops = new Map()\n  let modifiedField = [...field]\n\n  field.forEach((row, plotY) => {\n    row.forEach((plot, plotX) => {\n      if (!plot || getPlotContentType(plot) !== itemType.SPRINKLER) {\n        return\n      }\n\n      ;[]\n        .concat(\n          // Flatten this 2D array for less iteration below\n          ...getRangeCoords(SPRINKLER_RANGE, plotX, plotY)\n        )\n        .forEach(({ x, y }) => {\n          const fieldRow = field[y]\n\n          if (!fieldRow) {\n            return\n          }\n\n          const plotContent = fieldRow[x]\n\n          if (\n            plotContent &&\n            getPlotContentType(plotContent) === itemType.CROP\n          ) {\n            if (!crops.has(plotContent)) {\n              modifiedField = modifyFieldPlotAt(\n                { ...state, field: modifiedField },\n                x,\n                y,\n                setWasWatered\n              ).field\n            }\n\n            crops.set(plotContent, { x, y })\n          }\n        })\n    })\n  })\n\n  return { ...state, field: modifiedField }\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const processFeedingCows = state => {\n  const cowInventory = [...state.cowInventory]\n  const { length: cowInventoryLength } = cowInventory\n  let inventory = [...state.inventory]\n\n  const cowFeedInventoryPosition = inventory.findIndex(\n    ({ id }) => id === COW_FEED_ITEM_ID\n  )\n\n  const cowFeed = inventory[cowFeedInventoryPosition]\n  const quantity = cowFeed ? cowFeed.quantity : 0\n\n  let unitsSpent = 0\n\n  for (let i = 0; i < cowInventoryLength; i++) {\n    const cow = cowInventory[i]\n    const anyUnitsRemain = unitsSpent < quantity\n\n    cowInventory[i] = {\n      ...cow,\n      weightMultiplier: clampNumber(\n        anyUnitsRemain\n          ? cow.weightMultiplier + COW_WEIGHT_MULTIPLIER_FEED_BENEFIT\n          : cow.weightMultiplier - COW_WEIGHT_MULTIPLIER_FEED_BENEFIT,\n        COW_WEIGHT_MULTIPLIER_MINIMUM,\n        COW_WEIGHT_MULTIPLIER_MAXIMUM\n      ),\n    }\n\n    if (anyUnitsRemain) {\n      unitsSpent++\n    }\n  }\n\n  return decrementItemFromInventory(\n    { ...state, cowInventory, inventory },\n    COW_FEED_ITEM_ID,\n    unitsSpent\n  )\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const processMilkingCows = state => {\n  const cowInventory = [...state.cowInventory]\n  const newDayNotifications = [...state.newDayNotifications]\n  const { length: cowInventoryLength } = cowInventory\n\n  for (let i = 0; i < cowInventoryLength; i++) {\n    const cow = cowInventory[i]\n\n    if (cow.daysSinceMilking > getCowMilkRate(cow)) {\n      cowInventory[i] = { ...cow, daysSinceMilking: 0 }\n\n      const milk = getCowMilkItem(cow)\n      state = addItemToInventory(state, milk)\n      newDayNotifications.push({\n        message: MILK_PRODUCED`${cow}${milk}`,\n        severity: 'success',\n      })\n    }\n  }\n\n  return { ...state, cowInventory, newDayNotifications }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.item} item\n * @param {number} [howMany=1]\n * @returns {farmhand.state}\n */\nexport const addItemToInventory = (state, item, howMany = 1) => {\n  const { id } = item\n  const inventory = [...state.inventory]\n\n  const currentItemSlot = inventory.findIndex(({ id: itemId }) => id === itemId)\n\n  if (~currentItemSlot) {\n    const currentItem = inventory[currentItemSlot]\n\n    inventory[currentItemSlot] = {\n      ...currentItem,\n      quantity: currentItem.quantity + howMany,\n    }\n  } else {\n    inventory.push({ id, quantity: howMany })\n  }\n\n  return { ...state, inventory }\n}\n\nconst fieldReducer = (acc, fn) => fn(acc)\nconst fieldUpdaters = [incrementCropAge, resetWasWatered]\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nconst processField = state => ({\n  ...state,\n  field: updateField(state.field, plotContent =>\n    fieldUpdaters.reduce(fieldReducer, plotContent)\n  ),\n})\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const computeCowInventoryForNextDay = state => ({\n  ...state,\n  cowInventory: state.cowInventory.map(cow => ({\n    ...cow,\n    daysOld: cow.daysOld + 1,\n    daysSinceMilking: cow.daysSinceMilking + 1,\n    happiness: Math.max(0, cow.happiness - COW_HUG_BENEFIT),\n    happinessBoostsToday: 0,\n  })),\n})\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const waterField = state => ({\n  ...state,\n  field: updateField(state.field, setWasWatered),\n})\n\n/**\n * @param {farmhand.state} state\n * @param {number} x\n * @param {number} y\n * @param {Function(?farmhand.plotContent)} modifierFn\n * @returns {farmhand.state}\n */\nexport const modifyFieldPlotAt = (state, x, y, modifierFn) => {\n  const { field } = state\n  const row = [...field[y]]\n  const plotContent = modifierFn(row[x])\n  row[x] = plotContent\n  const modifiedField = [...field]\n  modifiedField[y] = row\n\n  return { ...state, field: modifiedField }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} x\n * @param {number} y\n * @returns {farmhand.state}\n */\nexport const removeFieldPlotAt = (state, x, y) =>\n  modifyFieldPlotAt(state, x, y, () => null)\n\n/**\n * @param {farmhand.state} state\n * @param {string} itemId\n * @param {number} [howMany=1]\n * @returns {farmhand.state}\n */\nexport const decrementItemFromInventory = (state, itemId, howMany = 1) => {\n  const inventory = [...state.inventory]\n  const itemInventoryIndex = inventory.findIndex(({ id }) => id === itemId)\n\n  if (itemInventoryIndex === -1) {\n    return state\n  }\n\n  const { quantity } = inventory[itemInventoryIndex]\n\n  if (quantity > howMany) {\n    inventory[itemInventoryIndex] = {\n      ...inventory[itemInventoryIndex],\n      quantity: quantity - howMany,\n    }\n  } else {\n    inventory.splice(itemInventoryIndex, 1)\n  }\n\n  return { ...state, inventory }\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const rotateNotificationLogs = state => {\n  const notificationLog = [...state.notificationLog]\n\n  const { dayCount, newDayNotifications } = state\n\n  const notifications = {\n    error: [],\n    info: [],\n    success: [],\n    warning: [],\n  }\n\n  newDayNotifications.forEach(({ message, severity }) =>\n    notifications[severity].push(message)\n  )\n\n  newDayNotifications.length &&\n    notificationLog.unshift({\n      day: dayCount,\n      notifications,\n    })\n\n  notificationLog.length = Math.min(\n    notificationLog.length,\n    NOTIFICATION_LOG_SIZE\n  )\n\n  return { ...state, notificationLog }\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const generatePriceEvents = state => {\n  const priceCrashes = { ...state.priceCrashes }\n  const priceSurges = { ...state.priceSurges }\n  let newDayNotifications = [...state.newDayNotifications]\n  let priceEvent\n\n  if (Math.random() < PRICE_EVENT_CHANCE) {\n    const cropItem = getRandomCropItem()\n    const { id } = cropItem\n\n    // Only create a priceEvent if one does not already exist\n    if (!priceCrashes[id] && !priceSurges[id]) {\n      const priceEventType =\n        Math.random() < 0.5 ? 'priceCrashes' : 'priceSurges'\n\n      priceEvent = createPriceEvent(\n        state,\n        getPriceEventForCrop(cropItem),\n        priceEventType\n      )\n\n      newDayNotifications.push(\n        priceEventType === 'priceCrashes'\n          ? {\n              message: PRICE_CRASH`${cropItem}`,\n              severity: 'warning',\n            }\n          : {\n              message: PRICE_SURGE`${cropItem}`,\n              severity: 'success',\n            }\n      )\n    }\n  }\n\n  return { ...state, ...priceEvent, newDayNotifications }\n}\n\n/**\n * @param {Object.<farmhand.priceEvent>} priceEvents\n * @returns {Object.<farmhand.priceEvent>}\n */\nconst decrementPriceEventDays = priceEvents =>\n  Object.keys(priceEvents).reduce((acc, key) => {\n    const { itemId, daysRemaining } = priceEvents[key]\n\n    if (daysRemaining > 1) {\n      acc[key] = { itemId, daysRemaining: daysRemaining - 1 }\n    }\n\n    return acc\n  }, {})\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const updatePriceEvents = state => {\n  const { priceCrashes, priceSurges } = state\n\n  return {\n    ...state,\n    priceCrashes: decrementPriceEventDays(priceCrashes),\n    priceSurges: decrementPriceEventDays(priceSurges),\n  }\n}\n\nexport const applyLoanInterest = state => ({\n  ...state,\n  loanBalance: moneyTotal(\n    state.loanBalance,\n    castToMoney(state.loanBalance * LOAN_INTEREST_RATE)\n  ),\n})\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const computeStateForNextDay = (state, isFirstDay = false) =>\n  (isFirstDay\n    ? []\n    : [\n        computeCowInventoryForNextDay,\n        processField,\n        processNerfs,\n        processWeather,\n        processSprinklers,\n        processFeedingCows,\n        processMilkingCows,\n        updatePriceEvents,\n        generatePriceEvents,\n        applyLoanInterest,\n        rotateNotificationLogs,\n      ]\n  )\n    .concat([adjustItemValues])\n    .reduce((acc, fn) => fn({ ...acc }), {\n      ...state,\n      cowForSale: generateCow(),\n      dayCount: state.dayCount + 1,\n    })\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.item} item\n * @param {number} [howMany=1]\n * @returns {farmhand.state}\n */\nexport const purchaseItem = (state, item, howMany = 1) => {\n  const { money, valueAdjustments } = state\n  if (howMany === 0) {\n    return state\n  }\n\n  const value = getAdjustedItemValue(valueAdjustments, item.id)\n  const totalValue = value * howMany\n\n  if (totalValue > money) {\n    return state\n  }\n\n  return addItemToInventory(\n    {\n      ...state,\n      money: moneyTotal(money, -totalValue),\n    },\n    item,\n    howMany\n  )\n}\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.item} item\n * @param {number} [howMany=1]\n * @returns {farmhand.state}\n */\nexport const sellItem = (state, { id }, howMany = 1) => {\n  if (howMany === 0) {\n    return state\n  }\n\n  const item = itemsMap[id]\n  const { itemsSold, money, revenue, valueAdjustments } = state\n  let { loanBalance } = state\n\n  const adjustedItemValue = isItemSoldInShop(item)\n    ? getResaleValue(item)\n    : getAdjustedItemValue(valueAdjustments, id)\n  const saleIsGarnished = isItemAFarmProduct(item)\n  let saleValue = 0\n\n  for (let i = 0; i < howMany; i++) {\n    const loanGarnishment = saleIsGarnished\n      ? Math.min(\n          loanBalance,\n          castToMoney(adjustedItemValue * LOAN_GARNISHMENT_RATE)\n        )\n      : 0\n    const garnishedProfit = adjustedItemValue - loanGarnishment\n    loanBalance = moneyTotal(loanBalance, -loanGarnishment)\n    saleValue = moneyTotal(saleValue, garnishedProfit)\n  }\n\n  if (saleIsGarnished) {\n    state = adjustLoan(state, moneyTotal(loanBalance, -state.loanBalance))\n  }\n\n  state = {\n    ...state,\n    itemsSold: { ...itemsSold, [id]: (itemsSold[id] || 0) + howMany },\n    money: moneyTotal(money, saleValue),\n    revenue: moneyTotal(revenue, saleValue),\n  }\n\n  state = decrementItemFromInventory(state, id, howMany)\n\n  return updateLearnedRecipes(state)\n}\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.item} item\n * @returns {farmhand.state}\n */\nexport const sellAllOfItem = (state, item) => {\n  const { id } = item\n  const { inventory } = state\n  const itemInInventory = inventory.find(item => item.id === id)\n\n  if (!itemInInventory) {\n    return state\n  }\n\n  return sellItem(state, item, itemInInventory.quantity)\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const updateLearnedRecipes = state => ({\n  ...state,\n  learnedRecipes: Object.keys(recipesMap).reduce((acc, recipeId) => {\n    if (recipesMap[recipeId].condition(state)) {\n      acc[recipeId] = true\n    }\n\n    return acc\n  }, {}),\n})\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.recipe} recipe\n * @returns {farmhand.state}\n */\nexport const makeRecipe = (state, recipe) => {\n  if (!canMakeRecipe(recipe, state.inventory)) {\n    return state\n  }\n\n  state = Object.keys(recipe.ingredients).reduce(\n    (state, ingredientId) =>\n      decrementItemFromInventory(\n        state,\n        ingredientId,\n        recipe.ingredients[ingredientId]\n      ),\n    state\n  )\n\n  return addItemToInventory(state, recipe)\n}\n\n/**\n * @param {farmhand.state} state\n * @param {string} message\n * @param {string} [severity] Corresponds to the `severity` prop here:\n * https://material-ui.com/api/alert/\n * @returns {farmhand.state}\n */\nexport const showNotification = (state, message, severity = 'info') => {\n  const { notifications } = state\n\n  return {\n    ...state,\n    // Don't show redundant notifications\n    notifications: notifications.find(\n      notification => notification.message === message\n    )\n      ? notifications\n      : notifications.concat({ message, severity }),\n    doShowNotifications: true,\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.cow} cow\n * @returns {farmhand.state}\n */\nexport const purchaseCow = (state, cow) => {\n  const { cowInventory, cowColorsPurchased, money, purchasedCowPen } = state\n  const { color } = cow\n\n  const cowValue = getCowValue(cow)\n  if (\n    money < cowValue ||\n    purchasedCowPen === 0 ||\n    cowInventory.length >= PURCHASEABLE_COW_PENS.get(purchasedCowPen).cows\n  ) {\n    return state\n  }\n\n  return {\n    ...state,\n    cowInventory: [...cowInventory, { ...cow }],\n    cowColorsPurchased: {\n      ...cowColorsPurchased,\n      [color]: (cowColorsPurchased[color] || 0) + 1,\n    },\n    money: moneyTotal(money, -cowValue),\n    cowForSale: generateCow(),\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.cow} cow\n * @returns {farmhand.state}\n */\nexport const sellCow = (state, cow) => {\n  const { cowInventory, money } = state\n  const cowValue = getCowValue(cow)\n\n  const newCowInventory = [...cowInventory]\n  newCowInventory.splice(cowInventory.indexOf(cow), 1)\n\n  return {\n    ...state,\n    cowInventory: newCowInventory,\n    money: moneyTotal(money, cowValue),\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {string} cowId\n * @param {Function(farmhand.cow)} fn Must return the modified cow or\n * undefined.\n * @returns {farmhand.state}\n */\nexport const modifyCow = (state, cowId, fn) => {\n  const cowInventory = [...state.cowInventory]\n  const cow = cowInventory.find(({ id }) => id === cowId)\n  const cowIndex = cowInventory.indexOf(cow)\n\n  cowInventory[cowIndex] = {\n    ...cow,\n    ...fn(cow),\n  }\n\n  return {\n    ...state,\n    cowInventory,\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} x\n * @param {number} y\n * @param {string} plantableItemId\n * @returns {farmhand.state}\n */\nexport const plantInPlot = (state, x, y, plantableItemId) => {\n  if (!plantableItemId) {\n    return state\n  }\n\n  const { field } = state\n  const row = field[y]\n  const finalCropItemId = getFinalCropItemIdFromSeedItemId(plantableItemId)\n\n  if (row[x]) {\n    // Something is already planted in field[x][y]\n    return state\n  }\n\n  state = modifyFieldPlotAt(state, x, y, () =>\n    getCropFromItemId(finalCropItemId)\n  )\n\n  state = decrementItemFromInventory(state, plantableItemId)\n  state = processSprinklers(state)\n\n  return {\n    ...state,\n    selectedItemId: state.inventory.find(({ id }) => id === plantableItemId)\n      ? plantableItemId\n      : '',\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} x\n * @param {number} y\n * @returns {farmhand.state}\n */\nexport const fertilizeCrop = (state, x, y) => {\n  const { field } = state\n  const row = field[y]\n  const crop = row[x]\n\n  if (\n    !crop ||\n    getPlotContentType(crop) !== itemType.CROP ||\n    crop.isFertilized === true\n  ) {\n    return state\n  }\n\n  state = decrementItemFromInventory(state, FERTILIZER_ITEM_ID)\n\n  const doFertilizersRemain = state.inventory.some(\n    item => item.id === FERTILIZER_ITEM_ID\n  )\n\n  state = modifyFieldPlotAt(state, x, y, crop => ({\n    ...crop,\n    isFertilized: true,\n  }))\n\n  return {\n    ...state,\n    fieldMode: doFertilizersRemain ? FERTILIZE : OBSERVE,\n    selectedItemId: doFertilizersRemain ? FERTILIZER_ITEM_ID : '',\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} x\n * @param {number} y\n * @returns {farmhand.state}\n */\nexport const setSprinkler = (state, x, y) => {\n  const { field } = state\n  const plot = field[y][x]\n\n  // Only set sprinklers in empty plots\n  if (plot !== null) {\n    return state\n  }\n\n  state = decrementItemFromInventory(state, SPRINKLER_ITEM_ID)\n\n  const doSprinklersRemain = state.inventory.some(\n    item => item.id === SPRINKLER_ITEM_ID\n  )\n\n  state = modifyFieldPlotAt(state, x, y, () =>\n    getPlotContentFromItemId(SPRINKLER_ITEM_ID)\n  )\n\n  state = processSprinklers(state)\n\n  return {\n    ...state,\n    fieldMode: doSprinklersRemain ? SET_SPRINKLER : OBSERVE,\n    selectedItemId: doSprinklersRemain ? SPRINKLER_ITEM_ID : '',\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} x\n * @param {number} y\n * @returns {farmhand.state}\n */\nexport const setScarecrow = (state, x, y) => {\n  const plot = state.field[y][x]\n\n  // Only set scarecrows in empty plots\n  if (plot !== null) {\n    return state\n  }\n\n  state = decrementItemFromInventory(state, SCARECROW_ITEM_ID)\n\n  const doScarecrowsRemain = state.inventory.some(\n    item => item.id === SCARECROW_ITEM_ID\n  )\n\n  state = modifyFieldPlotAt(state, x, y, () =>\n    getPlotContentFromItemId(SCARECROW_ITEM_ID)\n  )\n\n  return {\n    ...state,\n    fieldMode: doScarecrowsRemain ? SET_SCARECROW : OBSERVE,\n    selectedItemId: doScarecrowsRemain ? SCARECROW_ITEM_ID : '',\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} x\n * @param {number} y\n * @returns {farmhand.state}\n */\nexport const harvestPlot = (state, x, y) => {\n  const row = state.field[y]\n  const crop = row[x]\n\n  if (\n    !crop ||\n    getPlotContentType(crop) !== itemType.CROP ||\n    getCropLifeStage(crop) !== GROWN\n  ) {\n    return state\n  }\n\n  const item = itemsMap[crop.itemId]\n  state = removeFieldPlotAt(state, x, y)\n  state = addItemToInventory(state, item)\n  const { cropType } = item\n\n  const { cropsHarvested } = state\n\n  return {\n    ...state,\n    cropsHarvested: {\n      ...cropsHarvested,\n      [cropType]: (cropsHarvested[cropType] || 0) + 1,\n    },\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const harvestAll = state => {\n  updateField(state.field, (plot, x, y) => {\n    state = harvestPlot(state, x, y)\n  })\n\n  return state\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} x\n * @param {number} y\n * @returns {farmhand.state}\n */\nexport const clearPlot = (state, x, y) => {\n  const plotContent = state.field[y][x]\n\n  if (!plotContent) {\n    // Nothing planted in state.field[x][y]\n    return state\n  }\n\n  const item = itemsMap[plotContent.itemId]\n  state = removeFieldPlotAt(state, x, y)\n\n  return item.isReplantable ? addItemToInventory(state, item) : state\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} fieldId\n * @returns {farmhand.state}\n */\nexport const purchaseField = (state, fieldId) => {\n  const { field, money, purchasedField } = state\n  if (purchasedField >= fieldId) {\n    return state\n  }\n\n  const { columns, price, rows } = PURCHASEABLE_FIELD_SIZES.get(fieldId)\n\n  return {\n    purchasedField: fieldId,\n    field: new Array(rows)\n      .fill(null)\n      .map((_, row) =>\n        new Array(columns)\n          .fill(null)\n          .map((_, column) => (field[row] && field[row][column]) || null)\n      ),\n    money: moneyTotal(money, -price),\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} x\n * @param {number} y\n * @returns {farmhand.state}\n */\nexport const waterPlot = (state, x, y) => {\n  const plotContent = state.field[y][x]\n\n  if (!plotContent || getPlotContentType(plotContent) !== itemType.CROP) {\n    return state\n  }\n\n  return modifyFieldPlotAt(state, x, y, crop => ({\n    ...crop,\n    wasWateredToday: true,\n  }))\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const waterAllPlots = state => waterField(state)\n\n/**\n * @param {farmhand.state} state\n * @param {number} cowPenId\n * @returns {farmhand.state}\n */\nexport const purchaseCowPen = (state, cowPenId) => {\n  const { money, purchasedCowPen } = state\n\n  if (purchasedCowPen >= cowPenId) {\n    return state\n  }\n\n  return {\n    purchasedCowPen: cowPenId,\n    money: moneyTotal(money, -PURCHASEABLE_COW_PENS.get(cowPenId).price),\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {string} cowId\n * @returns {farmhand.state}\n */\nexport const hugCow = (state, cowId) =>\n  modifyCow(state, cowId, cow =>\n    cow.happinessBoostsToday >= MAX_DAILY_COW_HUG_BENEFITS\n      ? cow\n      : {\n          happiness: Math.min(1, cow.happiness + COW_HUG_BENEFIT),\n          happinessBoostsToday: cow.happinessBoostsToday + 1,\n        }\n  )\n\n/**\n * @param {farmhand.state} state\n * @param {string} newName\n * @param {string} cowId\n * @returns {farmhand.state}\n */\nexport const changeCowName = (state, cowId, newName) =>\n  modifyCow(state, cowId, cow => ({\n    name: newName.slice(0, MAX_ANIMAL_NAME_LENGTH),\n  }))\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.cow} cow\n * @returns {farmhand.state}\n */\nexport const selectCow = (state, { id }) => ({ ...state, selectedCowId: id })\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.state} prevState\n * @returns {farmhand.state}\n */\nexport const updateAchievements = (state, prevState) =>\n  achievements.reduce((state, achievement) => {\n    if (\n      !state.completedAchievements[achievement.id] &&\n      achievement.condition(state, prevState)\n    ) {\n      state = {\n        ...achievement.reward(state),\n        completedAchievements: {\n          ...state.completedAchievements,\n          [achievement.id]: true,\n        },\n      }\n\n      state = showNotification(\n        state,\n        ACHIEVEMENT_COMPLETED`${achievement}`,\n        'success'\n      )\n    }\n\n    return state\n  }, state)\n\n/**\n * @param {farmhand.state} state\n * @param {number} adjustmentAmount This should be a negative number if the\n * loan is being paid down, positive if a loan is being taken out.\n * @returns {farmhand.state}\n */\nexport const adjustLoan = (state, adjustmentAmount) => {\n  const loanBalance = moneyTotal(state.loanBalance, adjustmentAmount)\n  const money = moneyTotal(state.money, adjustmentAmount)\n\n  if (loanBalance === 0 && adjustmentAmount < 0) {\n    state = showNotification(state, LOAN_PAYOFF``, 'success')\n  } else if (adjustmentAmount > 0) {\n    state = showNotification(state, LOAN_INCREASED`${loanBalance}`, 'info')\n  }\n\n  return {\n    ...state,\n    loanBalance,\n    money,\n  }\n}\n","export const PROGRESS_SAVED_MESSAGE = 'Progress saved!'\nexport const RAIN_MESSAGE = 'It rained in the night!'\nexport const STORM_MESSAGE = 'There was a storm in the night!'\nexport const STORM_DESTROYS_SCARECROWS_MESSAGE =\n  'There was a storm in the night! No scarecrows survived!'\n","import React from 'react'\nimport { arrayOf, func, number, string } from 'prop-types'\nimport classNames from 'classnames'\n\nimport { default as MuiAppBar } from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport IconButton from '@material-ui/core/IconButton'\nimport MenuIcon from '@material-ui/icons/Menu'\nimport StepIcon from '@material-ui/core/StepIcon'\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight'\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft'\nimport Typography from '@material-ui/core/Typography'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport { moneyString } from '../../utils'\nimport './AppBar.sass'\n\nexport const AppBar = ({\n  handleClickNextMenuButton,\n  handleClickPreviousMenuButton,\n  handleMenuToggle,\n  money,\n  isMenuOpen,\n  stageFocus,\n  viewList,\n  viewTitle,\n}) => (\n  <MuiAppBar\n    {...{\n      className: 'AppBar',\n      position: 'fixed',\n    }}\n  >\n    <Toolbar\n      {...{\n        className: 'toolbar',\n      }}\n    >\n      <IconButton\n        className={classNames('menu-button', { 'is-open': isMenuOpen })}\n        color=\"inherit\"\n        aria-label=\"Open drawer\"\n        onClick={handleMenuToggle}\n      >\n        <MenuIcon />\n      </IconButton>\n      <IconButton\n        color=\"inherit\"\n        aria-label=\"Previous view\"\n        onClick={handleClickPreviousMenuButton}\n      >\n        <KeyboardArrowLeft />\n      </IconButton>\n      <IconButton\n        color=\"inherit\"\n        aria-label=\"Next view\"\n        onClick={handleClickNextMenuButton}\n      >\n        <KeyboardArrowRight />\n      </IconButton>\n      <StepIcon\n        {...{\n          icon: viewList.indexOf(stageFocus) + 1,\n        }}\n      />\n      <Typography\n        {...{\n          className: 'stage-header',\n          variant: 'h2',\n        }}\n      >\n        {viewTitle}\n      </Typography>\n      <Typography\n        {...{\n          className: 'money-display',\n          variant: 'h2',\n        }}\n      >\n        {moneyString(money)}\n      </Typography>\n    </Toolbar>\n  </MuiAppBar>\n)\n\nAppBar.propTypes = {\n  handleClickNextMenuButton: func.isRequired,\n  handleClickPreviousMenuButton: func.isRequired,\n  handleMenuToggle: func.isRequired,\n  money: number.isRequired,\n  stageFocus: string.isRequired,\n  viewList: arrayOf(string).isRequired,\n  viewTitle: string.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <AppBar {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { array } from 'prop-types'\nimport Alert from '@material-ui/lab/Alert'\n\nimport FarmhandContext from '../../Farmhand.context'\n\nimport './LogView.sass'\n\nexport const LogView = ({ notificationLog }) => (\n  <ul className=\"LogView\">\n    {notificationLog.map(({ day, notifications }, i) => (\n      <li key={`${i}_${notifications.info.join()}`}>\n        <h3>Day {day}</h3>\n        {['success', 'info', 'warning', 'error'].map((severity, i) =>\n          notifications[severity].length ? (\n            <Alert {...{ elevation: 3, key: `${severity}_${i}`, severity }}>\n              {notifications[severity].map((message, j) => (\n                <p key={`${j}_${message}`}>{message}</p>\n              ))}\n            </Alert>\n          ) : null\n        )}\n      </li>\n    ))}\n  </ul>\n)\n\nLogView.propTypes = {\n  notificationLog: array.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <LogView {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport NumberFormat from 'react-number-format'\nimport KeyboardArrowUp from '@material-ui/icons/KeyboardArrowUp'\nimport KeyboardArrowDown from '@material-ui/icons/KeyboardArrowDown'\nimport Button from '@material-ui/core/Button'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardActions from '@material-ui/core/CardActions'\nimport TextField from '@material-ui/core/TextField'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport Typography from '@material-ui/core/Typography'\nimport { bool, func, number, object } from 'prop-types'\nimport classNames from 'classnames'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport { items } from '../../img'\nimport { itemsMap } from '../../data/maps'\nimport {\n  isItemSoldInShop,\n  getCropLifecycleDuration,\n  getFinalCropItemFromSeedItem,\n  getItemValue,\n  getResaleValue,\n  moneyString,\n  integerString,\n} from '../../utils'\n\nimport './Item.sass'\n\nconst noop = () => {}\n\nconst ValueIndicator = ({\n  id,\n  value,\n  valueAdjustments,\n\n  poorValue,\n}) => (\n  <Tooltip\n    {...{\n      placement: 'right',\n      title: `${poorValue ? 'Poor' : 'Good'} opportunity`,\n    }}\n  >\n    {poorValue ? (\n      <KeyboardArrowDown color=\"error\" />\n    ) : (\n      <KeyboardArrowUp color=\"primary\" />\n    )}\n  </Tooltip>\n)\n\nconst PurchaseValueIndicator = ({\n  id,\n  value,\n  valueAdjustments,\n\n  poorValue = value > itemsMap[id].value,\n}) => (\n  <ValueIndicator\n    {...{\n      id,\n      poorValue,\n      value,\n      valueAdjustments,\n    }}\n  />\n)\n\nconst SellValueIndicator = ({\n  id,\n  value,\n  valueAdjustments,\n\n  poorValue = value < itemsMap[id].value,\n}) => (\n  <ValueIndicator\n    {...{\n      id,\n      poorValue,\n      value,\n      valueAdjustments,\n    }}\n  />\n)\n\nconst QuantityPurchaseNumberFormat = ({\n  inputRef,\n  maxQuantityPlayerCanAfford,\n  min,\n  max,\n  onChange,\n  ...rest\n}) => (\n  <NumberFormat\n    isNumericString\n    thousandSeparator\n    {...{\n      ...rest,\n      allowNegative: false,\n      decimalScale: 0,\n      isAllowed: ({ floatValue = 0 }) => floatValue >= min && floatValue <= max,\n      onValueChange: ({ floatValue = 0 }) => onChange(floatValue),\n    }}\n  />\n)\n\nconst QuantityPurchaseInput = ({\n  value,\n  handleUpdateNumber,\n  maxQuantityPlayerCanAfford,\n}) => (\n  <div>\n    <TextField\n      {...{\n        value,\n        inputProps: {\n          pattern: '[0-9]*',\n          min: 0,\n          max: maxQuantityPlayerCanAfford,\n        },\n        onChange: handleUpdateNumber,\n        InputProps: {\n          inputComponent: QuantityPurchaseNumberFormat,\n        },\n      }}\n    />\n  </div>\n)\n\nexport const Item = ({\n  completedAchievements,\n  handleItemPurchaseClick,\n  handleItemSelectClick,\n  handleItemSellAllClick,\n  handleItemSellClick,\n  isPurchaseView,\n  isSelectView,\n  isSelected,\n  isSellView,\n  item,\n  item: { id, isReplantable, description, name },\n  money,\n  playerInventoryQuantities,\n  showQuantity,\n  valueAdjustments,\n\n  // Note: This prop is defaulted to 0 in the tests.\n  adjustedValue = isSellView && isItemSoldInShop(item)\n    ? getResaleValue(item)\n    : getItemValue(item, valueAdjustments),\n\n  maxQuantityPlayerCanAfford = Math.floor(money / adjustedValue),\n\n  disableSellButtons = playerInventoryQuantities[id] === 0,\n}) => {\n  const [purchaseQuantity, setPurchaseQuantity] = useState(1)\n\n  useEffect(() => {\n    setPurchaseQuantity(Math.min(maxQuantityPlayerCanAfford, purchaseQuantity))\n  }, [maxQuantityPlayerCanAfford, purchaseQuantity])\n\n  return (\n    <Card\n      {...{\n        className: classNames('Item', {\n          'is-selectable': isSelectView,\n          'is-selected': isSelected,\n        }),\n        onClick: isSelectView ? () => handleItemSelectClick(item) : noop,\n        raised: isSelected,\n      }}\n    >\n      <CardHeader\n        {...{\n          avatar: <img {...{ src: items[id] }} alt={name} />,\n          title: name,\n          subheader: (\n            <div>\n              {isPurchaseView && (\n                <p>\n                  {`Price: ${moneyString(adjustedValue)}`}\n                  {completedAchievements['unlock-crop-price-guide'] &&\n                    valueAdjustments[id] && (\n                      <PurchaseValueIndicator\n                        {...{ id, value: adjustedValue, valueAdjustments }}\n                      />\n                    )}\n                </p>\n              )}\n              {isSellView && (\n                <p>\n                  {`Sell price: ${moneyString(adjustedValue)}`}\n                  {completedAchievements['unlock-crop-price-guide'] &&\n                    valueAdjustments[id] && (\n                      <SellValueIndicator\n                        {...{ id, value: adjustedValue, valueAdjustments }}\n                      />\n                    )}\n                </p>\n              )}\n              {showQuantity && (\n                <p>\n                  <strong>In Inventory:</strong>{' '}\n                  {integerString(playerInventoryQuantities[id])}\n                </p>\n              )}\n              {isPurchaseView && item.growsInto && (\n                <p>\n                  Days to mature:{' '}\n                  {getCropLifecycleDuration(getFinalCropItemFromSeedItem(item))}\n                </p>\n              )}\n            </div>\n          ),\n        }}\n      />\n      {isPurchaseView && (description || isReplantable) && (\n        <CardContent>\n          {description && <Typography>{description}</Typography>}\n          {isReplantable && (\n            <Typography {...{ color: 'textSecondary' }}>\n              Once planted in the field, this item can be returned to your\n              inventory with the hoe and then replanted elsewhere.\n            </Typography>\n          )}\n        </CardContent>\n      )}\n      <CardActions>\n        {isSelectView && (\n          <Button\n            {...{\n              // The onClick handler for this is bound on the parent Card for\n              // better select-ability.\n              className: 'select',\n              color: 'primary',\n              variant: isSelected ? 'contained' : 'outlined',\n            }}\n          >\n            Select\n          </Button>\n        )}\n        {isPurchaseView && (\n          <>\n            <Button\n              {...{\n                className: 'purchase',\n                color: 'primary',\n                disabled:\n                  purchaseQuantity === 0 ||\n                  adjustedValue * purchaseQuantity > money,\n                onClick: () => handleItemPurchaseClick(item, purchaseQuantity),\n                variant: 'contained',\n              }}\n            >\n              Buy\n            </Button>\n            <div className=\"quantity\">\n              <QuantityPurchaseInput\n                {...{\n                  value: purchaseQuantity,\n                  handleUpdateNumber: setPurchaseQuantity,\n                  maxQuantityPlayerCanAfford,\n                }}\n              />\n              <Button\n                {...{\n                  onClick: () =>\n                    setPurchaseQuantity(maxQuantityPlayerCanAfford),\n                }}\n              >\n                / {integerString(maxQuantityPlayerCanAfford)}\n              </Button>\n            </div>\n          </>\n        )}\n        {isSellView && (\n          <>\n            <Button\n              {...{\n                className: 'sell',\n                color: 'secondary',\n                disabled: disableSellButtons,\n                onClick: () => handleItemSellClick(item),\n                variant: 'contained',\n              }}\n            >\n              Sell\n            </Button>\n            <Button\n              {...{\n                className: 'sell-all',\n                color: 'secondary',\n                disabled: disableSellButtons,\n                onClick: () => handleItemSellAllClick(item),\n                variant: 'contained',\n              }}\n            >\n              Sell All\n            </Button>\n          </>\n        )}\n      </CardActions>\n    </Card>\n  )\n}\n\nItem.propTypes = {\n  adjustedValue: number,\n  completedAchievements: object.isRequired,\n  disableSellButtons: bool,\n  handleItemPurchaseClick: func,\n  handleItemSelectClick: func,\n  handleItemSellClick: func,\n  isPurchaseView: bool,\n  isSelectView: bool,\n  isSelected: bool,\n  isSellView: bool,\n  item: object.isRequired,\n  money: number.isRequired,\n  playerInventoryQuantities: object.isRequired,\n  showQuantity: bool,\n  valueAdjustments: object.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Item {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { object } from 'prop-types'\nimport Divider from '@material-ui/core/Divider'\n\nimport { itemsMap } from '../../data/maps'\nimport FarmhandContext from '../../Farmhand.context'\nimport Item from '../Item'\n\nimport './PriceEventView.sass'\n\nconst PriceEventView = ({ priceCrashes, priceSurges }) => (\n  <div className=\"PriceEventView\">\n    <h3>Price Surges</h3>\n    <ul className=\"card-list\">\n      {Object.keys(priceSurges).map(itemId => (\n        <li {...{ key: itemId }}>\n          <Item\n            {...{\n              isSellView: true,\n              item: itemsMap[itemId],\n              showQuantity: true,\n            }}\n          />\n        </li>\n      ))}\n    </ul>\n    <Divider />\n    <h3>Price Crashes</h3>\n    <ul className=\"card-list\">\n      {Object.keys(priceCrashes).map(itemId => (\n        <li {...{ key: itemId }}>\n          <Item\n            {...{\n              item: itemsMap[itemId],\n            }}\n          />\n        </li>\n      ))}\n    </ul>\n  </div>\n)\n\nPriceEventView.propTypes = {\n  priceCrashes: object.isRequired,\n  priceSurges: object.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <PriceEventView {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { number } from 'prop-types'\nimport { interpolate } from 'shifty'\n\nimport './ProgressBar.sass'\n\nconst incompleteColor = '#ff9f00'\nconst completeColor = '#00e500'\n\nconst ProgressBar = ({\n  percent,\n  fixedPercent = Number(percent.toFixed(2)),\n}) => (\n  <div className=\"ProgressBar\">\n    <div {...{ className: 'progress-wrapper' }}>\n      <div\n        {...{\n          className: 'progress',\n          style: {\n            background: interpolate(\n              { color: incompleteColor },\n              { color: completeColor },\n              percent / 100\n            ).color,\n            width: `${fixedPercent}%`,\n          },\n        }}\n      ></div>\n    </div>\n    <p>\n      <span>{fixedPercent}%</span>\n    </p>\n  </div>\n)\n\nProgressBar.propTypes = {\n  percent: number.isRequired,\n}\n\nexport default ProgressBar\n","import React from 'react'\nimport classNames from 'classnames'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardContent from '@material-ui/core/CardContent'\nimport AssignmentIcon from '@material-ui/icons/Assignment'\nimport AssignmentTurnedInIcon from '@material-ui/icons/AssignmentTurnedIn'\nimport { bool, object } from 'prop-types'\n\nimport FarmhandContext from '../../Farmhand.context'\n\nimport './Achievement.sass'\n\nconst Achievement = ({\n  achievement: { description, id, name, rewardDescription },\n  completedAchievements,\n\n  isComplete = Boolean(completedAchievements[id]),\n}) => (\n  <Card\n    {...{ className: classNames('Achievement', { 'is-complete': isComplete }) }}\n  >\n    <CardHeader\n      {...{\n        avatar: isComplete ? <AssignmentTurnedInIcon /> : <AssignmentIcon />,\n        title: name,\n        subheader: <p>Reward: {rewardDescription}</p>,\n      }}\n    />\n    <CardContent>\n      <p>{description}</p>\n    </CardContent>\n  </Card>\n)\n\nAchievement.propTypes = {\n  achievement: object.isRequired,\n  completedAchievements: object.isRequired,\n  isComplete: bool,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Achievement {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel'\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary'\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails'\nimport { object } from 'prop-types'\nimport memoize from 'fast-memoize'\nimport Divider from '@material-ui/core/Divider'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport ProgressBar from '../ProgressBar'\nimport Achievement from '../Achievement'\nimport achievements from '../../data/achievements'\n\nimport './AchievementsView.sass'\n\nconst partitionAchievements = memoize(completedAchievements =>\n  achievements.reduce(\n    (acc, achievement) => {\n      acc[\n        completedAchievements[achievement.id] ? 'complete' : 'incomplete'\n      ].push(achievement)\n\n      return acc\n    },\n    { complete: [], incomplete: [] }\n  )\n)\n\nconst AchievementsList = ({ achievements }) => (\n  <ExpansionPanelDetails>\n    <ul className=\"card-list\">\n      {achievements.map(achievement => (\n        <li {...{ key: achievement.id }}>\n          <Achievement {...{ achievement }} />\n        </li>\n      ))}\n    </ul>\n  </ExpansionPanelDetails>\n)\n\nconst AchievementsView = ({\n  completedAchievements,\n  partitionedAchievements: { complete, incomplete } = partitionAchievements(\n    completedAchievements\n  ),\n}) => (\n  <div className=\"AchievementsView\">\n    <ProgressBar\n      {...{ percent: (complete.length / achievements.length) * 100 }}\n    />\n    {complete.length ? (\n      <>\n        <ExpansionPanel {...{ defaultExpanded: true }}>\n          <ExpansionPanelSummary>\n            <h3>Completed</h3>\n          </ExpansionPanelSummary>\n          <AchievementsList {...{ achievements: complete }} />\n        </ExpansionPanel>\n        <Divider />\n      </>\n    ) : null}\n    <ExpansionPanel {...{ defaultExpanded: true }}>\n      <ExpansionPanelSummary>\n        <h3>Not Completed</h3>\n      </ExpansionPanelSummary>\n      <AchievementsList {...{ achievements: incomplete }} />\n    </ExpansionPanel>\n  </div>\n)\n\nAchievementsView.propTypes = {\n  completedAchievements: object.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <AchievementsView {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { number } from 'prop-types'\nimport Table from '@material-ui/core/Table'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableContainer from '@material-ui/core/TableContainer'\nimport TableRow from '@material-ui/core/TableRow'\nimport Paper from '@material-ui/core/Paper'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport { moneyString } from '../../utils'\n\nimport './StatsView.sass'\n\nconst StatsView = ({ revenue }) => (\n  <div className=\"StatsView\">\n    <TableContainer {...{ component: Paper }}>\n      <Table aria-label=\"Financial Stats\">\n        <TableBody>\n          <TableRow>\n            <TableCell {...{ component: 'th', scope: 'row' }}>\n              Revenue\n            </TableCell>\n            <TableCell align=\"right\">{moneyString(revenue)}</TableCell>\n          </TableRow>\n        </TableBody>\n      </Table>\n    </TableContainer>\n  </div>\n)\n\nStatsView.propTypes = {\n  revenue: number.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <StatsView {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardContent from '@material-ui/core/CardContent'\nimport Button from '@material-ui/core/Button'\nimport TextField from '@material-ui/core/TextField'\nimport AccountBalanceIcon from '@material-ui/icons/AccountBalance'\nimport NumberFormat from 'react-number-format'\nimport { func, number } from 'prop-types'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport { dollarString, moneyString, moneyTotal } from '../../utils'\nimport {\n  STANDARD_LOAN_AMOUNT,\n  LOAN_INTEREST_RATE,\n  LOAN_GARNISHMENT_RATE,\n} from '../../constants'\n\nimport './AccountingView.sass'\n\nconst AccountingView = ({\n  handleClickLoanPaydownButton,\n  handleClickTakeOutLoanButton,\n  loanBalance,\n  money,\n}) => {\n  const [loanInputValue, setLoanInputValue] = useState(\n    Math.min(loanBalance, money)\n  )\n\n  useEffect(() => setLoanInputValue(Math.min(loanBalance, money)), [\n    loanBalance,\n    money,\n  ])\n\n  return (\n    <div className=\"AccountingView\">\n      <Card>\n        <CardHeader\n          {...{\n            avatar: <AccountBalanceIcon />,\n            title: 'Loan Balance',\n            subheader: <p>{moneyString(loanBalance)}</p>,\n          }}\n        />\n        <CardContent>\n          <div className=\"loan-container\">\n            <TextField\n              {...{\n                value: String(loanInputValue),\n                inputProps: {\n                  // Enable a helpful number input for iOS.\n                  // https://css-tricks.com/finger-friendly-numerical-inputs-with-inputmode/\n                  pattern: '[0-9]*',\n                },\n                InputProps: {\n                  // TODO: Define this outside of the AccountingView component.\n                  inputComponent: ({ inputRef, ...rest }) => (\n                    <NumberFormat\n                      fixedDecimalScale\n                      thousandSeparator\n                      isNumericString\n                      {...{\n                        ...rest,\n                        allowNegative: false,\n                        decimalScale: 2,\n                        prefix: '$',\n                        isAllowed: ({ floatValue = 0 }) =>\n                          floatValue >= 0 && floatValue <= loanInputValue,\n                        onBlur: ({ target: { value } }) =>\n                          setLoanInputValue(Number(value.replace(/[$,]/g, ''))),\n                      }}\n                    />\n                  ),\n                },\n              }}\n            />\n            <Button\n              {...{\n                color: 'primary',\n                disabled: loanBalance === 0,\n                variant: 'contained',\n                onClick: () => {\n                  handleClickLoanPaydownButton(loanInputValue)\n                  setLoanInputValue(loanBalance - loanInputValue)\n                },\n              }}\n            >\n              Pay into loan\n            </Button>\n            <p>\n              You may take out a loan at any time. So long as you have a loan\n              balance, all farm product sales are garnished by{' '}\n              {LOAN_GARNISHMENT_RATE * 100}% until the loan is repaid. The loan\n              interest rate is {LOAN_INTEREST_RATE * 100}% per day, compounded\n              daily.\n            </p>\n          </div>\n          <Button\n            {...{\n              color: 'secondary',\n              variant: 'contained',\n              onClick: () => {\n                handleClickTakeOutLoanButton(STANDARD_LOAN_AMOUNT)\n                setLoanInputValue(\n                  Math.min(\n                    moneyTotal(loanInputValue, STANDARD_LOAN_AMOUNT),\n                    moneyTotal(money, STANDARD_LOAN_AMOUNT)\n                  )\n                )\n              },\n            }}\n          >\n            Take out a {dollarString(STANDARD_LOAN_AMOUNT)} loan\n          </Button>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n\nAccountingView.propTypes = {\n  handleClickTakeOutLoanButton: func.isRequired,\n  handleClickLoanPaydownButton: func.isRequired,\n  loanBalance: number.isRequired,\n  money: number.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <AccountingView {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport Fab from '@material-ui/core/Fab'\nimport Select from '@material-ui/core/Select'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport AssignmentTurnedInIcon from '@material-ui/icons/AssignmentTurnedIn'\nimport HistoryIcon from '@material-ui/icons/History'\nimport FlashOnIcon from '@material-ui/icons/FlashOn'\nimport TrendingUpIcon from '@material-ui/icons/TrendingUp'\nimport AttachMoneyIcon from '@material-ui/icons/AttachMoney'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport { number, func, string } from 'prop-types'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport { dialogView, stageFocusType } from '../../enums'\n\nimport LogView from '../LogView'\nimport PriceEventView from '../PriceEventView'\nimport AchievementsView from '../AchievementsView'\nimport StatsView from '../StatsView'\nimport AccountingView from '../AccountingView'\n\nimport './Navigation.sass'\n\nconst {\n  FARMERS_LOG,\n  PRICE_EVENTS,\n  ACHIEVEMENTS,\n  STATS,\n  ACCOUNTING,\n} = dialogView\n\nconst dialogTriggerTextMap = {\n  [FARMERS_LOG]: \"Open Farmer's Log (l)\",\n  [PRICE_EVENTS]: 'See Price Events (p)',\n  [ACHIEVEMENTS]: 'View Achievements (a)',\n  [STATS]: 'View your stats (d)',\n  [ACCOUNTING]: 'View Bank Account (b)',\n}\n\nconst dialogTitleMap = {\n  [FARMERS_LOG]: \"Farmer's Log\",\n  [PRICE_EVENTS]: 'Price Events',\n  [ACHIEVEMENTS]: 'Achievements',\n  [STATS]: 'Farm Stats',\n  [ACCOUNTING]: 'Bank Account',\n}\n\nconst dialogContentMap = {\n  [FARMERS_LOG]: <LogView />,\n  [PRICE_EVENTS]: <PriceEventView />,\n  [ACHIEVEMENTS]: <AchievementsView />,\n  [STATS]: <StatsView />,\n  [ACCOUNTING]: <AccountingView />,\n}\n\nexport const Navigation = ({\n  currentDialogView,\n  dayCount,\n  handleClickDialogViewButton,\n  handleCloseDialogView,\n  handleViewChange,\n  purchasedCowPen,\n  stageFocus,\n}) => (\n  <header className=\"Navigation\">\n    <h1>Farmhand</h1>\n    <h2 className=\"day-count\">Day {dayCount}</h2>\n    <div className=\"button-array\">\n      {[\n        { dialogView: FARMERS_LOG, Icon: HistoryIcon },\n        { dialogView: PRICE_EVENTS, Icon: FlashOnIcon },\n        { dialogView: ACHIEVEMENTS, Icon: AssignmentTurnedInIcon },\n        { dialogView: STATS, Icon: TrendingUpIcon },\n        { dialogView: ACCOUNTING, Icon: AttachMoneyIcon },\n      ].map(({ dialogView, Icon }) => (\n        <Tooltip\n          {...{\n            key: dialogView,\n            placement: 'bottom',\n            title: dialogTriggerTextMap[dialogView],\n          }}\n        >\n          <Fab\n            {...{\n              'aria-label': dialogTriggerTextMap[dialogView],\n              color: 'primary',\n              onClick: () => handleClickDialogViewButton(dialogView),\n            }}\n          >\n            <Icon />\n          </Fab>\n        </Tooltip>\n      ))}\n    </div>\n    {/*\n    This Dialog gets the Farmhand class because it renders outside of the root\n    Farmhand component. This explicit class maintains style consistency.\n    */}\n    <Dialog\n      {...{\n        className: 'Farmhand',\n        fullWidth: true,\n        maxWidth: 'md',\n        onClose: handleCloseDialogView,\n        open: currentDialogView !== dialogView.NONE,\n      }}\n    >\n      <DialogTitle>{dialogTitleMap[currentDialogView]}</DialogTitle>\n      <DialogContent>{dialogContentMap[currentDialogView]}</DialogContent>\n      <DialogActions>\n        <Button onClick={handleCloseDialogView} color=\"primary\" autoFocus>\n          Close\n        </Button>\n      </DialogActions>\n    </Dialog>\n    <Select\n      {...{\n        className: 'view-select',\n        onChange: handleViewChange,\n        value: stageFocus,\n      }}\n    >\n      <MenuItem value={stageFocusType.HOME}>Home (h)</MenuItem>\n      <MenuItem value={stageFocusType.FIELD}>Field (f)</MenuItem>\n      <MenuItem value={stageFocusType.SHOP}>Shop (s)</MenuItem>\n      {purchasedCowPen && (\n        <MenuItem value={stageFocusType.COW_PEN}>Cows (c)</MenuItem>\n      )}\n      <MenuItem value={stageFocusType.KITCHEN}>Kitchen (k)</MenuItem>\n    </Select>\n  </header>\n)\n\nNavigation.propTypes = {\n  dayCount: number.isRequired,\n  handleClickDialogViewButton: func.isRequired,\n  handleCloseDialogView: func.isRequired,\n  handleViewChange: func.isRequired,\n  purchasedCowPen: number.isRequired,\n  stageFocus: string.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Navigation {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { array, object } from 'prop-types'\nimport memoize from 'fast-memoize'\nimport sortBy from 'lodash.sortby'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport Item from '../Item'\nimport { itemsMap } from '../../data/maps'\nimport { enumify, itemType } from '../../enums'\n\nimport './Inventory.sass'\n\nconst {\n  COW_FEED,\n  CROP,\n  DISH,\n  FERTILIZER,\n  MILK,\n  SCARECROW,\n  SPRINKLER,\n} = itemType\n\nconst itemTypesToShowInReverse = new Set([itemType.MILK])\n\nconst sortItemIdsByTypeAndValue = memoize(itemIds =>\n  sortBy(itemIds, [\n    id => Number(itemsMap[id].type !== CROP),\n    id => {\n      const { type, value } = itemsMap[id]\n      return itemTypesToShowInReverse.has(type) ? -value : value\n    },\n  ])\n)\n\nexport const sort = items => {\n  const itemsMap = {}\n  items.forEach(item => (itemsMap[item.id] = item))\n\n  return sortItemIdsByTypeAndValue(items.map(({ id }) => id)).map(\n    id => itemsMap[id]\n  )\n}\n\nexport const categoryIds = enumify([\n  'ANIMAL_PRODUCTS',\n  'ANIMAL_SUPPLIES',\n  'CROPS',\n  'DISHES',\n  'FIELD_TOOLS',\n  'SEEDS',\n])\nconst categoryIdKeys = Object.keys(categoryIds)\nconst {\n  ANIMAL_PRODUCTS,\n  ANIMAL_SUPPLIES,\n  CROPS,\n  DISHES,\n  FIELD_TOOLS,\n  SEEDS,\n} = categoryIds\n\nconst itemTypeCategoryMap = Object.freeze({\n  [COW_FEED]: ANIMAL_SUPPLIES,\n  SEEDS,\n  [CROP]: CROPS,\n  [DISH]: DISHES,\n  [FERTILIZER]: FIELD_TOOLS,\n  [MILK]: ANIMAL_PRODUCTS,\n  [SCARECROW]: FIELD_TOOLS,\n  [SPRINKLER]: FIELD_TOOLS,\n})\n\nconst getItemCategories = () =>\n  categoryIdKeys.reduce((acc, key) => {\n    acc[key] = []\n    return acc\n  }, {})\n\nexport const separateItemsIntoCategories = items =>\n  sort(items).reduce((acc, item) => {\n    const { type } = itemsMap[item.id]\n    const category = itemTypeCategoryMap[type]\n\n    if (category === CROPS) {\n      acc[item.isPlantableCrop ? SEEDS : CROPS].push(item)\n    } else {\n      acc[category].push(item)\n    }\n\n    return acc\n  }, getItemCategories())\n\nexport const Inventory = ({\n  items,\n  playerInventory,\n  shopInventory,\n  valueAdjustments,\n\n  // Infer the type of view this is by doing an identity check against\n  // gameState arrays.\n  isPurchaseView = items === shopInventory,\n  isSellView = items === playerInventory,\n\n  itemCategories = separateItemsIntoCategories(items),\n}) => (\n  <div className=\"Inventory\">\n    {[\n      [CROPS, 'Crops'],\n      [SEEDS, 'Seeds'],\n      [FIELD_TOOLS, 'Field Tools'],\n      [ANIMAL_PRODUCTS, 'Animal Products'],\n      [ANIMAL_SUPPLIES, 'Animal Supplies'],\n      [DISHES, 'Dishes'],\n    ].map(([category, headerText]) =>\n      itemCategories[category].length ? (\n        <section key={category}>\n          <h3>{headerText}</h3>\n          <ul className=\"card-list\">\n            {itemCategories[category].map((item, i) => (\n              <li key={i}>\n                <Item\n                  {...{\n                    isPurchaseView,\n                    isSellView,\n                    item,\n                    showQuantity: true,\n                  }}\n                />\n              </li>\n            ))}\n          </ul>\n        </section>\n      ) : null\n    )}\n  </div>\n)\n\nInventory.propTypes = {\n  items: array.isRequired,\n  playerInventory: array,\n  shopInventory: array,\n  valueAdjustments: object.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Inventory {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport { func, object, string } from 'prop-types'\nimport classNames from 'classnames'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport './Toolbelt.sass'\nimport { fieldMode } from '../../enums'\nimport { tools, pixel } from '../../img'\n\nconst { CLEANUP, HARVEST, WATER } = fieldMode\n\nexport const Toolbelt = ({\n  completedAchievements,\n  fieldMode: currentFieldMode,\n  handleFieldModeSelect,\n  handleHarvestAllClick,\n}) => (\n  <div className=\"Toolbelt\">\n    <div className=\"button-array\">\n      {[\n        {\n          alt: 'A watering can for hydrating plants.',\n          fieldMode: WATER,\n          keybinding: 'shift + w',\n          toolImageId: 'watering-can',\n        },\n        {\n          alt: 'A scythe for crop harvesting.',\n          fieldMode: HARVEST,\n          keybinding: 'shift + s',\n          toolImageId: 'scythe',\n        },\n        {\n          alt:\n            'A hoe for removing crops and disposing of them. Also returns replantable items to your inventory.',\n          fieldMode: CLEANUP,\n          keybinding: 'shift + h',\n          toolImageId: 'hoe',\n        },\n      ].map(({ alt, fieldMode, keybinding, toolImageId }) => (\n        <Tooltip\n          {...{\n            key: fieldMode,\n            placement: 'bottom',\n            title: (\n              <>\n                <p>{alt}</p>\n                <p>({keybinding})</p>\n              </>\n            ),\n          }}\n        >\n          <Button\n            {...{\n              className: classNames({\n                selected: fieldMode === currentFieldMode,\n              }),\n              color: 'primary',\n              onClick: () => handleFieldModeSelect(fieldMode),\n              variant:\n                fieldMode === currentFieldMode ? 'contained' : 'outlined',\n            }}\n          >\n            {/* alt is in a different format here because of linter weirdness. */}\n            <img\n              {...{\n                className: `square ${toolImageId}`,\n                src: pixel,\n                style: { backgroundImage: `url(${tools[toolImageId]}` },\n              }}\n              alt={alt}\n            />\n          </Button>\n        </Tooltip>\n      ))}\n    </div>\n\n    <div className=\"bulk-operations\">\n      {completedAchievements['master-harvester'] && (\n        <Button\n          {...{\n            color: 'primary',\n            onClick: handleHarvestAllClick,\n            variant: 'contained',\n          }}\n        >\n          Harvest All\n        </Button>\n      )}\n    </div>\n  </div>\n)\n\nToolbelt.propTypes = {\n  completedAchievements: object.isRequired,\n  fieldMode: string.isRequired,\n  handleFieldModeSelect: func.isRequired,\n  handleHarvestAllClick: func.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Toolbelt {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { array, string } from 'prop-types'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport Item from '../Item'\nimport './PlantableItems.sass'\n\nexport const PlantableItems = ({ plantableCropInventory, selectedItemId }) => (\n  <div className=\"PlantableItems\">\n    <ul className=\"card-list\">\n      {plantableCropInventory.map(item => (\n        <li key={item.id}>\n          <Item\n            {...{\n              item,\n              isSelected: item.id === selectedItemId,\n              isSelectView: true,\n              showQuantity: true,\n            }}\n          />\n        </li>\n      ))}\n    </ul>\n  </div>\n)\n\nPlantableItems.propTypes = {\n  plantableCropInventory: array.isRequired,\n  selectedItemId: string.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <PlantableItems {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { array, string } from 'prop-types'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport Item from '../Item'\nimport './FieldTools.sass'\n\nexport const FieldTools = ({ fieldToolInventory, selectedItemId }) => (\n  <div className=\"FieldTools\">\n    <ul className=\"card-list\">\n      {fieldToolInventory.map(item => (\n        <li key={item.id}>\n          <Item\n            {...{\n              item,\n              isSelected: selectedItemId === item.id,\n              isSelectView: true,\n              showQuantity: true,\n            }}\n          />\n        </li>\n      ))}\n    </ul>\n  </div>\n)\n\nFieldTools.propTypes = {\n  fieldToolInventory: array.isRequired,\n  selectedItemId: string.isRequired,\n}\n\nexport default function Consumer() {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <FieldTools {...{ ...gameState, ...handlers }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React, { useState } from 'react'\nimport { array, func, number, object, string } from 'prop-types'\nimport Button from '@material-ui/core/Button'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardActions from '@material-ui/core/CardActions'\nimport TextField from '@material-ui/core/TextField'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport classNames from 'classnames'\nimport {\n  faMars,\n  faVenus,\n  faHeart as faFullHeart,\n} from '@fortawesome/free-solid-svg-icons'\nimport { faHeart as faEmptyHeart } from '@fortawesome/free-regular-svg-icons'\n\nimport Item from '../Item'\nimport { animals } from '../../img'\nimport FarmhandContext from '../../Farmhand.context'\nimport { cowColors, genders } from '../../enums'\nimport { moneyString, getCowValue, getCowWeight } from '../../utils'\nimport { PURCHASEABLE_COW_PENS } from '../../constants'\nimport { cowFeed } from '../../data/items'\n\nimport './CowPenContextMenu.sass'\n\nconst genderIcons = {\n  [genders.FEMALE]: faVenus,\n  [genders.MALE]: faMars,\n}\n\nconst nullHeartList = new Array(10).fill(null)\n\n// The extra 0.5 is for rounding up to the next full heart. This allows a fully\n// happy cow to have full hearts on the beginning of a new day.\nconst isHeartFull = (heartIndex, numberOfFullHearts) =>\n  heartIndex + 0.5 < numberOfFullHearts\n\nexport const CowCardSubheader = ({\n  cow,\n  cowValue,\n  isCowPurchased,\n\n  numberOfFullHearts = cow.happiness * 10,\n}) => (\n  <>\n    {isCowPurchased && (\n      <p>\n        {cow.daysOld} {cow.daysOld === 1 ? 'day' : 'days'} old\n      </p>\n    )}\n    <p>\n      {isCowPurchased ? 'Value' : 'Price'}: {moneyString(cowValue)}\n    </p>\n    <p>Weight: {getCowWeight(cow)} lbs.</p>\n    {isCowPurchased && (\n      <ol className=\"hearts\">\n        {nullHeartList.map((_null, i) => (\n          <li key={`${cow.id}_${i}`}>\n            <FontAwesomeIcon\n              {...{\n                icon: isHeartFull(i, numberOfFullHearts)\n                  ? faFullHeart\n                  : faEmptyHeart,\n                className: classNames('heart', {\n                  'is-full': isHeartFull(i, numberOfFullHearts),\n                }),\n              }}\n            />\n          </li>\n        ))}\n      </ol>\n    )}\n  </>\n)\n\nexport const CowCard = ({\n  cow,\n  cowInventory,\n  debounced,\n  handleCowHugClick,\n  handleCowNameInputChange,\n  handleCowPurchaseClick,\n  handleCowSellClick,\n  isSelected,\n  money,\n  purchasedCowPen,\n\n  cowValue = getCowValue(cow),\n  isCowPurchased = !!handleCowSellClick,\n  isNameEditable = !!handleCowNameInputChange,\n}) => {\n  const [name, setName] = useState(cow.name)\n\n  return (\n    <Card {...{ raised: isSelected }}>\n      <CardHeader\n        {...{\n          avatar: (\n            <img\n              {...{ src: animals.cow[cowColors[cow.color].toLowerCase()] }}\n              alt=\"Cow\"\n            />\n          ),\n          title: (\n            <>\n              {isNameEditable ? (\n                <TextField\n                  {...{\n                    onChange: e => {\n                      setName(e.target.value)\n                      debounced.handleCowNameInputChange({ ...e }, cow)\n                    },\n                    placeholder: 'Name',\n                    value: name,\n                  }}\n                />\n              ) : (\n                cow.name\n              )}{' '}\n              <FontAwesomeIcon\n                {...{\n                  icon: genderIcons[cow.gender],\n                }}\n              />\n            </>\n          ),\n          subheader: (\n            <CowCardSubheader\n              {...{\n                cow,\n                cowValue,\n                isCowPurchased,\n              }}\n            />\n          ),\n        }}\n      />\n      <CardActions>\n        {!isCowPurchased && (\n          <Button\n            {...{\n              className: 'purchase',\n              color: 'primary',\n              disabled:\n                cowValue > money ||\n                cowInventory.length >=\n                  PURCHASEABLE_COW_PENS.get(purchasedCowPen).cows,\n              onClick: () => handleCowPurchaseClick(cow),\n              variant: 'contained',\n            }}\n          >\n            Buy\n          </Button>\n        )}\n        {isCowPurchased && (\n          <>\n            <Button\n              {...{\n                className: 'hug',\n                color: 'primary',\n                onClick: () => handleCowHugClick(cow),\n                variant: 'contained',\n              }}\n            >\n              Hug\n            </Button>\n            <Button\n              {...{\n                className: 'sell',\n                color: 'secondary',\n                onClick: () => handleCowSellClick(cow),\n                variant: 'contained',\n              }}\n            >\n              Sell\n            </Button>\n          </>\n        )}\n      </CardActions>\n    </Card>\n  )\n}\n\nexport const CowPenContextMenu = ({\n  cowForSale,\n  cowInventory,\n  debounced,\n  handleCowHugClick,\n  handleCowNameInputChange,\n  handleCowPurchaseClick,\n  handleCowSelect,\n  handleCowSellClick,\n  money,\n  purchasedCowPen,\n  selectedCowId,\n}) => (\n  <div className=\"CowPenContextMenu\">\n    <h3>Supplies</h3>\n    <Item\n      {...{\n        item: cowFeed,\n        isPurchaseView: true,\n        showQuantity: true,\n      }}\n    />\n    <h3>For sale</h3>\n    <CowCard\n      {...{\n        cow: cowForSale,\n        cowInventory,\n        handleCowPurchaseClick,\n        money,\n        purchasedCowPen,\n      }}\n    />\n    <h3>\n      Cows ({cowInventory.length} /{' '}\n      {PURCHASEABLE_COW_PENS.get(purchasedCowPen).cows})\n    </h3>\n    <ul className=\"card-list\">\n      {cowInventory.map(cow => (\n        <li\n          {...{\n            key: cow.id,\n            onFocus: () => handleCowSelect(cow),\n            onClick: () => handleCowSelect(cow),\n          }}\n        >\n          <CowCard\n            {...{\n              cow,\n              cowInventory,\n              debounced,\n              handleCowHugClick,\n              handleCowNameInputChange,\n              handleCowSellClick,\n              isSelected: cow.id === selectedCowId,\n              money,\n              purchasedCowPen,\n            }}\n          />\n        </li>\n      ))}\n    </ul>\n  </div>\n)\n\nCowPenContextMenu.propTypes = {\n  cowForSale: object.isRequired,\n  cowInventory: array.isRequired,\n  debounced: object.isRequired,\n  handleCowHugClick: func.isRequired,\n  handleCowNameInputChange: func.isRequired,\n  handleCowPurchaseClick: func.isRequired,\n  handleCowSelect: func.isRequired,\n  handleCowSellClick: func.isRequired,\n  money: number.isRequired,\n  purchasedCowPen: number.isRequired,\n  selectedCowId: string.isRequired,\n}\n\nexport default function Consumer() {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <CowPenContextMenu {...{ ...gameState, ...handlers }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { string } from 'prop-types'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport Inventory from '../Inventory'\nimport Toolbelt from '../Toolbelt'\nimport PlantableItems from '../PlantableItems'\nimport FieldTools from '../FieldTools'\nimport CowPenContextMenu from '../CowPenContextMenu'\nimport { stageFocusType } from '../../enums'\n\nimport './ContextPane.sass'\n\nexport const ContextPane = ({ playerInventory, stageFocus }) => (\n  <div className=\"ContextPane\">\n    {stageFocus === stageFocusType.FIELD && (\n      <>\n        <header>\n          <h3>Toolbelt</h3>\n        </header>\n        <Toolbelt />\n        <header>\n          <h3>Seeds</h3>\n        </header>\n        <PlantableItems />\n        <header>\n          <h3>Field Tools</h3>\n        </header>\n        <FieldTools />\n      </>\n    )}\n    {stageFocus === stageFocusType.SHOP && (\n      <>\n        <h2>Inventory</h2>\n        <Inventory\n          {...{\n            items: playerInventory,\n          }}\n        />\n      </>\n    )}\n    {stageFocus === stageFocusType.COW_PEN && <CowPenContextMenu />}\n  </div>\n)\n\nContextPane.propTypes = {\n  stageFocus: string.isRequired,\n}\n\nexport default function Consumer() {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <ContextPane {...{ ...gameState, ...handlers }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { func, number, object, string } from 'prop-types'\nimport classNames from 'classnames'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport { getCropLifeStage, getPlotContentType, getPlotImage } from '../../utils'\nimport { itemsMap } from '../../data/maps'\nimport { pixel, plotStates } from '../../img'\nimport { cropLifeStage, itemType } from '../../enums'\nimport './Plot.sass'\n\nexport const getBackgroundStyles = plotContent => {\n  if (!plotContent) {\n    return null\n  }\n\n  const backgroundImages = []\n\n  if (plotContent.isFertilized) {\n    backgroundImages.push(`url(${plotStates['fertilized-plot']})`)\n  }\n\n  if (plotContent.wasWateredToday) {\n    backgroundImages.push(`url(${plotStates['watered-plot']})`)\n  }\n\n  return backgroundImages.join(', ')\n}\n\nexport const isInHoverRange = (\n  hoveredPlotRangeSize,\n  { x: hoveredPlotX, y: hoveredPlotY },\n  plotX,\n  plotY\n) => {\n  const squareSize = 2 * hoveredPlotRangeSize\n  const rangeFloorX = hoveredPlotX - hoveredPlotRangeSize\n  const rangeFloorY = hoveredPlotY - hoveredPlotRangeSize\n  const rangeCeilingX = rangeFloorX + squareSize\n  const rangeCeilingY = rangeFloorY + squareSize\n\n  return (\n    plotX >= rangeFloorX &&\n    plotX <= rangeCeilingX &&\n    plotY >= rangeFloorY &&\n    plotY <= rangeCeilingY\n  )\n}\n\nexport const Plot = ({\n  handlePlotClick,\n  hoveredPlot,\n  hoveredPlotRangeSize,\n  plotContent,\n  setHoveredPlot,\n  x,\n  y,\n\n  image = getPlotImage(plotContent),\n  lifeStage = plotContent &&\n    getPlotContentType(plotContent) === itemType.CROP &&\n    getCropLifeStage(plotContent),\n}) => {\n  return (\n    <div\n      className={classNames('Plot', {\n        'is-empty': !plotContent,\n        'is-in-hover-range': isInHoverRange(\n          hoveredPlotRangeSize,\n          hoveredPlot,\n          x,\n          y\n        ),\n\n        // For crops\n        crop: plotContent && getPlotContentType(plotContent) === itemType.CROP,\n        'is-fertilized': plotContent && plotContent.isFertilized,\n        'is-ripe': lifeStage === cropLifeStage.GROWN,\n\n        'is-replantable':\n          plotContent && itemsMap[plotContent.itemId].isReplantable,\n      })}\n      style={{\n        backgroundImage: getBackgroundStyles(plotContent),\n      }}\n      onClick={() => handlePlotClick(x, y)}\n      onDragEnter={() => handlePlotClick(x, y)}\n      onMouseOver={() => setHoveredPlot({ x, y })}\n    >\n      <img\n        className=\"square\"\n        style={{\n          backgroundImage: image ? `url(${image})` : undefined,\n        }}\n        src={pixel}\n        alt=\"\"\n      />\n    </div>\n  )\n}\n\nPlot.propTypes = {\n  handlePlotClick: func.isRequired,\n  hoveredPlot: object.isRequired,\n  hoveredPlotRangeSize: number.isRequired,\n  lifeStage: string,\n  plotContent: object,\n  setHoveredPlot: func.isRequired,\n  x: number.isRequired,\n  y: number.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Plot {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React, { useState } from 'react'\nimport { array, number, string } from 'prop-types'\nimport classNames from 'classnames'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport Plot from '../Plot'\nimport { fieldMode } from '../../enums'\n\nimport './Field.sass'\n\nconst {\n  CLEANUP,\n  FERTILIZE,\n  HARVEST,\n  PLANT,\n  SET_SCARECROW,\n  SET_SPRINKLER,\n  WATER,\n} = fieldMode\n\nexport const Field = ({ columns, field, fieldMode, purchasedField, rows }) => {\n  const [hoveredPlot, setHoveredPlot] = useState({ x: null, y: null })\n\n  return (\n    <div\n      {...{\n        className: classNames('Field', {\n          'cleanup-mode': fieldMode === CLEANUP,\n          'fertilize-mode': fieldMode === FERTILIZE,\n          'harvest-mode': fieldMode === HARVEST,\n          'plant-mode': fieldMode === PLANT,\n          'set-scarecrow-mode': fieldMode === SET_SCARECROW,\n          'set-sprinkler-mode': fieldMode === SET_SPRINKLER,\n          'water-mode': fieldMode === WATER,\n        }),\n        'data-purchased-field': purchasedField,\n      }}\n    >\n      {Array(rows)\n        .fill(null)\n        .map((_null, i) => (\n          <div className=\"row\" key={i}>\n            {Array(columns)\n              .fill(null)\n              .map((_null, j, arr, plotContent = field[i][j]) => (\n                <Plot\n                  key={j}\n                  {...{\n                    hoveredPlot,\n                    plotContent,\n                    setHoveredPlot,\n                    x: j,\n                    y: i,\n                  }}\n                />\n              ))}\n          </div>\n        ))}\n    </div>\n  )\n}\n\nField.propTypes = {\n  columns: number.isRequired,\n  field: array.isRequired,\n  fieldMode: string.isRequired,\n  purchasedField: number.isRequired,\n  rows: number.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Field {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport ReactMarkdown from 'react-markdown'\n\nimport FarmhandContext from '../../Farmhand.context'\n\nimport './Home.sass'\n\nconst Home = () => (\n  <div className=\"Home\">\n    <ReactMarkdown\n      {...{\n        linkTarget: '_blank',\n        source: `\n# Welcome!\n\nYou're playing Farmhand, an open source game being developed by [Jeremy Kahn](https://github.com/jeremyckahn). The game is currently smack dab in the middle of development, so it is incomplete and very unpolished. However, you're welcome to try out what's already here!\n\nThis is a resource management game that puts a farm in your hand. It is designed to be mobile-friendly and fun for 30 seconds or 30 minutes at a time. Give it a try!\n\nIf you'd like to follow this project's development, please [join the Discord channel](https://discord.gg/6cHEZ9H) or check it out on [GitHub](https://github.com/jeremyckahn/farmhand)! 🐮\n    `,\n      }}\n    />\n  </div>\n)\n\nHome.propTypes = {}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Home {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React, { Component } from 'react'\nimport { array, bool, func, object, string } from 'prop-types'\nimport classNames from 'classnames'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faHeart } from '@fortawesome/free-solid-svg-icons'\n\nimport { cowColors } from '../../enums'\nimport FarmhandContext from '../../Farmhand.context'\nimport { animals } from '../../img'\n\nimport './CowPen.sass'\n\nexport class Cow extends Component {\n  state = {\n    isMoving: false,\n    showHugAnimation: false,\n    x: Cow.randomPosition(),\n    y: Cow.randomPosition(),\n  }\n\n  repositionTimeoutId = null\n  animateMovementTimeoutId = null\n  animateHugTimeoutId = null\n\n  // This MUST be kept in sync with $movement-animation-duration in CowPen.sass.\n  static movementAnimationDuration = 3000\n\n  // This MUST be kept in sync with $hug-animation-duration in CowPen.sass.\n  static hugAnimationDuration = 750\n\n  static waitVariance = 12 * 1000\n\n  static randomPosition = () => 10 + Math.random() * 80\n\n  componentDidUpdate(prevProps) {\n    if (\n      this.props.isSelected &&\n      !prevProps.isSelected &&\n      this.repositionTimeoutId !== null\n    ) {\n      clearTimeout(this.repositionTimeoutId)\n    }\n\n    if (!this.props.isSelected && prevProps.isSelected) {\n      this.scheduleMove()\n    }\n\n    if (\n      this.props.cow.happinessBoostsToday >\n        prevProps.cow.happinessBoostsToday &&\n      !this.state.showHugAnimation\n    ) {\n      this.setState({ showHugAnimation: true })\n\n      this.animateHugTimeoutId = setTimeout(\n        () => this.setState({ showHugAnimation: false }),\n        Cow.hugAnimationDuration\n      )\n    }\n  }\n\n  animateTimeoutHandler = () => {\n    this.animateMovementTimeoutId = null\n    this.finishMoving()\n  }\n\n  move = () => {\n    this.animateMovementTimeoutId = setTimeout(\n      this.animateTimeoutHandler,\n      Cow.movementAnimationDuration\n    )\n\n    this.setState({\n      isMoving: true,\n      x: Cow.randomPosition(),\n      y: Cow.randomPosition(),\n    })\n  }\n\n  finishMoving = () => {\n    this.scheduleMove()\n    this.setState({ isMoving: false })\n  }\n\n  repositionTimeoutHandler = () => {\n    this.repositionTimeoutId = null\n    this.move()\n  }\n\n  scheduleMove = () => {\n    if (this.props.isSelected) {\n      return\n    }\n\n    this.repositionTimeoutId = setTimeout(\n      this.repositionTimeoutHandler,\n      Math.random() * Cow.waitVariance\n    )\n  }\n\n  componentDidMount() {\n    this.scheduleMove()\n  }\n\n  componentWillUnmount() {\n    ;[\n      this.repositionTimeoutId,\n      this.animateMovementTimeoutId,\n      this.animateHugTimeoutId,\n    ].forEach(clearTimeout)\n  }\n\n  render() {\n    const {\n      props: { cow, handleCowClick, isSelected },\n      state: { isMoving, showHugAnimation, x, y },\n    } = this\n\n    return (\n      <div\n        {...{\n          className: classNames('cow', {\n            'is-moving': isMoving,\n            'is-selected': isSelected,\n          }),\n          onClick: () => handleCowClick(cow),\n          style: {\n            left: `${y}%`,\n            top: `${x}%`,\n          },\n        }}\n      >\n        <Tooltip\n          {...{\n            placement: 'bottom',\n            title: cow.name,\n            open: isSelected,\n            PopperProps: {\n              disablePortal: true,\n            },\n          }}\n        >\n          <div>\n            <img\n              {...{\n                src: animals.cow[cowColors[cow.color].toLowerCase()],\n              }}\n              alt=\"Cow\"\n            />\n            <FontAwesomeIcon\n              {...{\n                className: classNames('animation', {\n                  'is-animating': showHugAnimation,\n                }),\n                icon: faHeart,\n              }}\n            />\n          </div>\n        </Tooltip>\n        <ol {...{ className: 'happiness-boosts-today' }}>\n          {new Array(this.props.cow.happinessBoostsToday).fill().map((_, i) => (\n            <li {...{ key: i }}>\n              <FontAwesomeIcon\n                {...{\n                  icon: faHeart,\n                }}\n              />\n            </li>\n          ))}\n        </ol>\n      </div>\n    )\n  }\n}\n\nCow.propTypes = {\n  cow: object.isRequired,\n  handleCowClick: func.isRequired,\n  isSelected: bool.isRequired,\n}\n\nexport const CowPen = ({ cowInventory, handleCowClick, selectedCowId }) => (\n  <div className=\"CowPen\">\n    {cowInventory.map(cow => (\n      <Cow\n        {...{\n          cow,\n          key: cow.id,\n          handleCowClick,\n          isSelected: selectedCowId === cow.id,\n        }}\n      />\n    ))}\n  </div>\n)\n\nCowPen.propTypes = {\n  cowInventory: array.isRequired,\n  handleCowClick: func.isRequired,\n  selectedCowId: string.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <CowPen {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React, { Component } from 'react'\nimport Button from '@material-ui/core/Button'\nimport Select from '@material-ui/core/Select'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardActions from '@material-ui/core/CardActions'\nimport { func, instanceOf, number, string } from 'prop-types'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport './TierPurchase.sass'\n\nexport class TierPurchase extends Component {\n  state = {\n    selectedTier: '',\n  }\n\n  tierValues = [...this.props.tiers.entries()]\n\n  get selectedTierNumber() {\n    return Number(this.state.selectedTier)\n  }\n\n  get canPlayerBuySelectedTier() {\n    const {\n      props: { money },\n      selectedTierNumber,\n    } = this\n\n    const selectedTier = this.props.tiers.get(selectedTierNumber)\n\n    return (\n      !!selectedTier &&\n      !this.hasPurchasedTier(selectedTierNumber) &&\n      money >= selectedTier.price\n    )\n  }\n\n  hasPurchasedTier = tierLevel => tierLevel <= this.props.purchasedTier\n\n  handleTierPurchase = () => {\n    const {\n      props: { handleTierPurchase, money },\n      selectedTierNumber,\n    } = this\n    const { price } = this.props.tiers.get(selectedTierNumber)\n\n    if (money >= price) {\n      handleTierPurchase(selectedTierNumber)\n    }\n  }\n\n  onSelectChange = ({ target: { value } }) => {\n    this.setState({ selectedTier: value })\n  }\n\n  updateSelectedTier = () => {\n    const {\n      props: { money },\n      selectedTierNumber,\n    } = this\n\n    const nextTierNumber = selectedTierNumber + 1\n    const nextTierToPurchase = this.props.tiers.get(nextTierNumber)\n\n    if (nextTierToPurchase && money >= nextTierToPurchase.price) {\n      this.setState({ selectedTier: String(nextTierNumber) })\n    }\n  }\n\n  componentDidMount() {\n    this.updateSelectedTier()\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.money !== prevProps.money) {\n      this.updateSelectedTier()\n    }\n  }\n\n  render() {\n    const {\n      canPlayerBuySelectedTier,\n      handleTierPurchase,\n      hasPurchasedTier,\n      onSelectChange,\n      props: { money, renderTierLabel, title },\n      tierValues,\n      state: { selectedTier },\n    } = this\n\n    return (\n      <Card className=\"TierPurchase\">\n        <CardHeader {...{ title }} />\n        <CardActions>\n          <Select\n            {...{\n              onChange: onSelectChange,\n              value: selectedTier,\n            }}\n          >\n            {tierValues.map(([id, tier]) => (\n              <MenuItem\n                key={id}\n                value={id}\n                disabled={money < tier.price || hasPurchasedTier(id)}\n              >\n                {renderTierLabel(tier)}\n              </MenuItem>\n            ))}\n          </Select>\n          <Button\n            {...{\n              color: 'primary',\n              disabled: !canPlayerBuySelectedTier,\n              onClick: handleTierPurchase,\n              variant: 'contained',\n            }}\n          >\n            Buy\n          </Button>\n        </CardActions>\n      </Card>\n    )\n  }\n}\n\nTierPurchase.propTypes = {\n  handleTierPurchase: func.isRequired,\n  money: number.isRequired,\n  purchasedTier: number.isRequired,\n  renderTierLabel: func.isRequired,\n  tiers: instanceOf(Map),\n  title: string.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <TierPurchase {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { array, number, object } from 'prop-types'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport {\n  PURCHASEABLE_COW_PENS,\n  PURCHASEABLE_FIELD_SIZES,\n} from '../../constants'\nimport Inventory from '../Inventory'\nimport TierPurchase from '../TierPurchase'\n\nimport './Shop.sass'\n\nexport const Shop = ({\n  handleCowPenPurchase,\n  handleFieldPurchase,\n  purchasedCowPen,\n  purchasedField,\n  shopInventory,\n}) => (\n  <div className=\"Shop\">\n    <Inventory\n      {...{\n        items: shopInventory,\n      }}\n    />\n    <ul className=\"card-list\">\n      <li>\n        <TierPurchase\n          {...{\n            handleTierPurchase: handleFieldPurchase,\n            purchasedTier: purchasedField,\n            renderTierLabel: ({ columns, price, rows }) =>\n              `$${price}: ${columns} x ${rows}`,\n            tiers: PURCHASEABLE_FIELD_SIZES,\n            title: 'Expand field',\n          }}\n        />\n      </li>\n      <li>\n        <TierPurchase\n          {...{\n            handleTierPurchase: handleCowPenPurchase,\n            purchasedTier: purchasedCowPen,\n            renderTierLabel: ({ cows, price }) =>\n              `$${price}: Capacity for ${cows} cows`,\n            tiers: PURCHASEABLE_COW_PENS,\n            title: 'Buy cow pen',\n          }}\n        />\n      </li>\n    </ul>\n  </div>\n)\n\nShop.propTypes = {\n  purchasedCowPen: number.isRequired,\n  purchasedField: number.isRequired,\n  shopInventory: array.isRequired,\n  valueAdjustments: object.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Shop {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport classNames from 'classnames'\nimport Button from '@material-ui/core/Button'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardActions from '@material-ui/core/CardActions'\nimport { array, bool, func, object } from 'prop-types'\n\nimport { canMakeRecipe, dollarString } from '../../utils'\nimport { itemsMap } from '../../data/maps'\nimport { dishes } from '../../img'\n\nimport FarmhandContext from '../../Farmhand.context'\n\nimport './Recipe.sass'\n\nconst noop = () => {}\n\nconst IngredientsList = ({\n  playerInventoryQuantities,\n  recipe: { ingredients, name },\n}) => (\n  <ul {...{ className: 'card-list', title: `Ingredients for ${name}` }}>\n    <li>\n      <h3>Ingredients required:</h3>\n    </li>\n    {Object.keys(ingredients).map(itemId => (\n      <li {...{ key: itemId }}>\n        <p\n          {...{\n            className: classNames(\n              playerInventoryQuantities[itemId] >= ingredients[itemId]\n                ? 'in-stock'\n                : 'out-of-stock'\n            ),\n          }}\n        >\n          {ingredients[itemId]} x {itemsMap[itemId].name} (On hand:{' '}\n          {playerInventoryQuantities[itemId]})\n        </p>\n      </li>\n    ))}\n  </ul>\n)\n\nconst Recipe = ({\n  handleMakeRecipeClick,\n  inventory,\n  playerInventoryQuantities,\n  recipe,\n  recipe: { id, name },\n\n  canBeMade = canMakeRecipe(recipe, inventory),\n}) => (\n  <Card\n    {...{\n      className: classNames('Recipe', { 'can-be-made': canBeMade }),\n      onClick: canBeMade ? () => handleMakeRecipeClick(recipe) : noop,\n    }}\n  >\n    <CardHeader\n      {...{\n        avatar: <img {...{ src: dishes[id], alt: name }} />,\n        title: name,\n        subheader: (\n          <>\n            <p>Sell price: {dollarString(itemsMap[id].value)}</p>\n            <p>In Inventory: {playerInventoryQuantities[id]}</p>\n            <IngredientsList {...{ playerInventoryQuantities, recipe }} />\n          </>\n        ),\n      }}\n    />\n    <CardActions>\n      <Button\n        {...{\n          // The onClick handler for this is bound on the parent Card for\n          // better click-ability.\n          className: 'make-recipe',\n          color: 'primary',\n          disabled: !canBeMade,\n          variant: 'contained',\n        }}\n      >\n        Make\n      </Button>\n    </CardActions>\n  </Card>\n)\n\nRecipe.propTypes = {\n  canBeMade: bool,\n  handleMakeRecipeClick: func.isRequired,\n  inventory: array.isRequired,\n  playerInventoryQuantities: object.isRequired,\n  recipe: object.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Recipe {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { object } from 'prop-types'\n\nimport { recipesMap } from '../../data/maps'\nimport Recipe from '../Recipe'\n\nimport FarmhandContext from '../../Farmhand.context'\n\nimport './Kitchen.sass'\n\nconst Kitchen = ({ learnedRecipes }) => (\n  <div className=\"Kitchen\">\n    <h2>Learned Recipes</h2>\n    <section>\n      <ul className=\"card-list\">\n        {Object.keys(learnedRecipes).map(recipeId => (\n          <li key={recipeId}>\n            <Recipe\n              {...{\n                recipe: recipesMap[recipeId],\n              }}\n            />\n          </li>\n        ))}\n      </ul>\n    </section>\n  </div>\n)\n\nKitchen.propTypes = {\n  learnedRecipes: object.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Kitchen {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport classNames from 'classnames'\nimport { array, arrayOf, bool, string } from 'prop-types'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport Field from '../Field'\nimport Home from '../Home'\nimport CowPen from '../CowPen'\nimport Shop from '../Shop'\nimport Kitchen from '../Kitchen'\nimport { stageFocusType } from '../../enums'\n\nimport './Stage.sass'\n\nexport const Stage = ({\n  field,\n  isMenuOpen,\n  playerInventory,\n  stageFocus,\n  viewTitle,\n}) => (\n  <div className={classNames('Stage', { 'menu-closed': !isMenuOpen })}>\n    <h2 className=\"view-title\">{viewTitle}</h2>\n    {stageFocus === stageFocusType.HOME && <Home />}\n    {stageFocus === stageFocusType.FIELD && (\n      <Field\n        {...{\n          columns: field[0].length,\n          rows: field.length,\n        }}\n      />\n    )}\n    {stageFocus === stageFocusType.SHOP && <Shop />}\n    {stageFocus === stageFocusType.COW_PEN && <CowPen />}\n    {stageFocus === stageFocusType.KITCHEN && <Kitchen />}\n  </div>\n)\n\nStage.propTypes = {\n  field: arrayOf(array).isRequired,\n  isMenuOpen: bool.isRequired,\n  playerInventory: array.isRequired,\n  stageFocus: string.isRequired,\n  viewTitle: string.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Stage {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { arrayOf, bool, func, shape, string } from 'prop-types'\nimport Snackbar from '@material-ui/core/Snackbar'\nimport Alert from '@material-ui/lab/Alert'\nimport ReactMarkdown from 'react-markdown'\n\nimport { NOTIFICATION_DURATION } from '../../constants'\nimport FarmhandContext from '../../Farmhand.context'\nimport './NotificationSystem.sass'\n\nexport const NotificationSystem = ({\n  handleCloseNotification,\n  handleNotificationExited,\n  notifications,\n  doShowNotifications,\n}) => (\n  <div className=\"NotificationSystem\">\n    <Snackbar\n      {...{\n        anchorOrigin: { vertical: 'top', horizontal: 'right' },\n        autoHideDuration: NOTIFICATION_DURATION,\n        className: 'notification',\n        onClose: handleCloseNotification,\n        onExited: handleNotificationExited,\n        open: doShowNotifications,\n      }}\n    >\n      {/*\n      Notifications *must* be wrapped in a div, even though it would be a bit\n      cleaner to use a Fragment. Without a wrapping div, the\n      handleCloseNotification function tends to throw null reference errors\n      that crash the game.\n      */}\n      <div className=\"wrapper\">\n        {notifications.map(({ message, severity }) => (\n          <Alert {...{ elevation: 3, key: `${severity}_${message}`, severity }}>\n            <ReactMarkdown {...{ source: message }} />\n          </Alert>\n        ))}\n      </div>\n    </Snackbar>\n  </div>\n)\n\nNotificationSystem.propTypes = {\n  handleCloseNotification: func.isRequired,\n  handleNotificationExited: func.isRequired,\n  notifications: arrayOf(\n    shape({\n      message: string.isRequired,\n      severity: string.isRequired,\n    })\n  ).isRequired,\n  doShowNotifications: bool.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <NotificationSystem {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { func } from 'prop-types'\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel'\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary'\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails'\nimport Typography from '@material-ui/core/Typography'\nimport Button from '@material-ui/core/Button'\n\nimport { carrot } from '../../data/items'\n\nimport FarmhandContext from '../../Farmhand.context'\n\nimport './DebugMenu.sass'\n\nexport const DebugMenu = ({\n  handleAddMoneyClick,\n  handleClearPersistedDataClick,\n  handleItemPurchaseClick,\n  handleWaterAllPlotsClick,\n}) => (\n  <ExpansionPanel className=\"DebugMenu\" square={true}>\n    <ExpansionPanelSummary>\n      <h2>Debug Menu</h2>\n    </ExpansionPanelSummary>\n    <ExpansionPanelDetails>\n      <Typography>\n        <Button\n          color=\"primary\"\n          onClick={() => handleAddMoneyClick(10000)}\n          variant=\"contained\"\n        >\n          Get $10,000\n        </Button>\n        <Button\n          color=\"primary\"\n          onClick={handleWaterAllPlotsClick}\n          variant=\"contained\"\n        >\n          Water all plots (w)\n        </Button>\n        <Button\n          color=\"primary\"\n          onClick={() => handleItemPurchaseClick(carrot, 10)}\n          variant=\"contained\"\n        >\n          Buy 10 carrots\n        </Button>\n        <Button\n          color=\"primary\"\n          onClick={handleClearPersistedDataClick}\n          variant=\"contained\"\n        >\n          Clear data\n        </Button>\n      </Typography>\n    </ExpansionPanelDetails>\n  </ExpansionPanel>\n)\n\nDebugMenu.propTypes = {\n  handleAddMoneyClick: func.isRequired,\n  handleClearPersistedDataClick: func.isRequired,\n  handleWaterAllPlotsClick: func.isRequired,\n}\n\nexport default function Consumer() {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <DebugMenu {...{ ...gameState, ...handlers }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import { createMuiTheme } from '@material-ui/core'\n\nexport default createMuiTheme({\n  typography: {\n    // Needed to silence this warning:\n    // https://material-ui.com/style/typography/#migration-to-typography-v2\n    useNextVariants: true,\n  },\n})\n","import React, { Component } from 'react'\nimport { GlobalHotKeys } from 'react-hotkeys'\nimport memoize from 'fast-memoize'\nimport localforage from 'localforage'\nimport { MuiThemeProvider } from '@material-ui/core/styles'\nimport Drawer from '@material-ui/core/Drawer'\nimport Fab from '@material-ui/core/Fab'\nimport HotelIcon from '@material-ui/icons/Hotel'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport debounce from 'lodash.debounce'\n\nimport FarmhandContext from './Farmhand.context'\nimport eventHandlers from './event-handlers'\nimport * as reducers from './reducers'\n// This must be imported here so that it can be overridden by component styles.\nimport './Farmhand.sass'\n\nimport AppBar from './components/AppBar'\nimport Navigation from './components/Navigation'\nimport ContextPane from './components/ContextPane'\nimport Stage from './components/Stage'\nimport NotificationSystem from './components/NotificationSystem'\nimport DebugMenu from './components/DebugMenu'\nimport theme from './mui-theme'\nimport { createNewField, doesMenuObstructStage, getItemValue } from './utils'\nimport shopInventory from './data/shop-inventory'\nimport { itemsMap, recipesMap } from './data/maps'\nimport { dialogView, fieldMode, stageFocusType } from './enums'\nimport { STANDARD_LOAN_AMOUNT, PURCHASEABLE_COW_PENS } from './constants'\nimport { COW_PEN_PURCHASED, LOAN_INCREASED, RECIPE_LEARNED } from './templates'\nimport { PROGRESS_SAVED_MESSAGE } from './strings'\n\nconst { CLEANUP, HARVEST, OBSERVE, WATER } = fieldMode\n\nconst itemIds = Object.freeze(Object.keys(itemsMap))\n\nconst stageTitleMap = {\n  [stageFocusType.HOME]: 'Home',\n  [stageFocusType.FIELD]: 'Field',\n  [stageFocusType.SHOP]: 'Shop',\n  [stageFocusType.COW_PEN]: 'Cows',\n  [stageFocusType.KITCHEN]: 'Kitchen',\n}\n\n/**\n * @param {Array.<{ item: farmhand.item, quantity: number }>} inventory\n * @param {Object.<number>} valueAdjustments\n * @returns {Array.<farmhand.item>}\n */\nexport const computePlayerInventory = memoize((inventory, valueAdjustments) =>\n  inventory.map(({ quantity, id }) => ({\n    quantity,\n    ...itemsMap[id],\n    value: getItemValue(itemsMap[id], valueAdjustments),\n  }))\n)\n\n/**\n * @param {Array.<{ item: farmhand.item }>} inventory\n * @returns {Array.<{ item: farmhand.item }>}\n */\nexport const getFieldToolInventory = memoize(inventory =>\n  inventory\n    .filter(({ id }) => {\n      const { enablesFieldMode } = itemsMap[id]\n\n      return (\n        typeof enablesFieldMode === 'string' &&\n        enablesFieldMode !== fieldMode.PLANT\n      )\n    })\n    .map(({ id }) => itemsMap[id])\n)\n\n/**\n * @param {Array.<{ item: farmhand.item }>} inventory\n * @returns {Array.<{ item: farmhand.item }>}\n */\nexport const getPlantableCropInventory = memoize(inventory =>\n  inventory\n    .filter(({ id }) => itemsMap[id].isPlantableCrop)\n    .map(({ id }) => itemsMap[id])\n)\n\n/**\n * @typedef farmhand.state\n * @type {Object}\n * @property {farmhand.module:enums.dialogView} currentDialogView\n * @property {Object.<string, boolean>} completedAchievements Keys are\n * achievement ids.\n * @property {farmhand.cow} cowForSale\n * @property {Array.<farmhand.cow>} cowInventory\n * @property {Object.<farmhand.module:enums.cowColors, number>}\n * cowColorsPurchased Keys are color enums, values are the number of that color\n * of cow purchased.\n * @property {Object.<farmhand.module:enums.cropType, number>} cropsHarvested A\n * map of totals of crops harvested. Keys are crop type IDs, values are the\n * number of that crop harvested.\n * @property {number} dayCount\n * @property {Array.<Array.<?farmhand.plotContent>>} field\n * @property {farmhand.module:enums.fieldMode} fieldMode\n * @property {number} hoveredPlotRangeSize\n * @property {Array.<{ item: farmhand.item, quantity: number }>} inventory\n * @property {boolean} isMenuOpen\n * @property {Object} itemsSold Keys are items IDs, values are the number of\n * that item sold.\n * @property {Object} learnedRecipes Keys are recipe IDs, values are `true`.\n * @property {number} loanBalance\n * @property {number} money\n * @property {Array.<string>} newDayNotifications\n * @property {Array.<string>} notifications\n * @property {Array.<string} notificationLog\n * @property {string} selectedCowId\n * @property {string} selectedItemId\n * @property {Object.<string, farmhand.priceEvent>} priceCrashes Keys are\n * itemIds.\n * @property {Object.<string, farmhand.priceEvent>} priceSurges Keys are\n * itemIds.\n * @property {number} purchasedCowPen\n * @property {number} purchasedField\n * @property {number} revenue The amount of money the player has generated in\n * revenue.\n * @property {Array.<farmhand.item>} shopInventory\n * @property {boolean} doShowNotifications\n * @property {farmhand.module:enums.stageFocusType} stageFocus\n * @property {Object.<number>} valueAdjustments\n */\n\nexport default class Farmhand extends Component {\n  // Bind event handlers\n\n  localforage = localforage.createInstance({\n    name: 'farmhand',\n    description: 'Persisted game data for Farmhand',\n  })\n\n  /**\n   * @member farmhand.Farmhand#state\n   * @type {farmhand.state}\n   */\n  state = {\n    currentDialogView: dialogView.NONE,\n    completedAchievements: {},\n    cowForSale: {},\n    cowInventory: [],\n    cowColorsPurchased: {},\n    cropsHarvested: {},\n    dayCount: 0,\n    field: createNewField(),\n    hasBooted: false,\n    hoveredPlotRangeSize: 0,\n    inventory: [],\n    isMenuOpen: !doesMenuObstructStage(),\n    itemsSold: {},\n    learnedRecipes: {},\n    loanBalance: STANDARD_LOAN_AMOUNT,\n    money: STANDARD_LOAN_AMOUNT,\n    newDayNotifications: [],\n    notifications: [],\n    notificationLog: [],\n    selectedCowId: '',\n    selectedItemId: '',\n    fieldMode: OBSERVE,\n    priceCrashes: {},\n    priceSurges: {},\n    revenue: 0,\n    purchasedCowPen: 0,\n    purchasedField: 0,\n    shopInventory: [...shopInventory],\n    doShowNotifications: false,\n    stageFocus: stageFocusType.HOME,\n    valueAdjustments: {},\n  }\n\n  constructor() {\n    super(...arguments)\n\n    this.initInputHandlers()\n    this.initReducers()\n  }\n\n  static reduceByPersistedKeys(state) {\n    return [\n      'cowForSale',\n      'completedAchievements',\n      'cowInventory',\n      'cowColorsPurchased',\n      'cropsHarvested',\n      'dayCount',\n      'field',\n      'inventory',\n      'itemsSold',\n      'learnedRecipes',\n      'loanBalance',\n      'money',\n      'newDayNotifications',\n      'notificationLog',\n      'purchasedCowPen',\n      'purchasedField',\n      'priceCrashes',\n      'priceSurges',\n      'revenue',\n      'valueAdjustments',\n    ].reduce((acc, key) => {\n      acc[key] = state[key]\n\n      return acc\n    }, {})\n  }\n\n  get viewTitle() {\n    return stageTitleMap[this.state.stageFocus]\n  }\n\n  get fieldToolInventory() {\n    return getFieldToolInventory(this.state.inventory)\n  }\n\n  get playerInventory() {\n    const { inventory, valueAdjustments } = this.state\n    return computePlayerInventory(inventory, valueAdjustments)\n  }\n\n  get playerInventoryQuantities() {\n    const { inventory } = this.state\n\n    return itemIds.reduce((acc, itemId) => {\n      const itemInInventory = inventory.find(({ id }) => id === itemId)\n      acc[itemId] = itemInInventory ? itemInInventory.quantity : 0\n\n      return acc\n    }, {})\n  }\n\n  get plantableCropInventory() {\n    return getPlantableCropInventory(this.state.inventory)\n  }\n\n  get viewList() {\n    const { COW_PEN, FIELD, HOME, KITCHEN, SHOP } = stageFocusType\n\n    const viewList = [HOME, FIELD, SHOP]\n\n    if (this.state.purchasedCowPen) {\n      viewList.push(COW_PEN)\n    }\n\n    viewList.push(KITCHEN)\n\n    return viewList\n  }\n\n  initInputHandlers() {\n    const debouncedInputRate = 50\n\n    this.handlers = { debounced: {} }\n\n    Object.keys(eventHandlers).forEach(method => {\n      this.handlers[method] = eventHandlers[method].bind(this)\n\n      this.handlers.debounced[method] = debounce(\n        this.handlers[method],\n        debouncedInputRate\n      )\n    })\n\n    this.keyMap = {\n      focusCows: 'c',\n      focusField: 'f',\n      focusHome: 'h',\n      focusKitchen: 'k',\n      focusShop: 's',\n      incrementDay: 'shift+c',\n      nextView: 'right',\n      openAccounting: 'b',\n      openAchievements: 'a',\n      openLog: 'l',\n      openPriceEvents: 'p',\n      openStats: 'd',\n      previousView: 'left',\n      selectHoe: 'shift+h',\n      selectScythe: 'shift+s',\n      selectWateringCan: 'shift+w',\n      toggleMenu: 'm',\n    }\n\n    this.keyHandlers = {\n      focusCows: () =>\n        this.state.purchasedCowPen &&\n        this.setState({ stageFocus: stageFocusType.COW_PEN }),\n      focusField: () => this.setState({ stageFocus: stageFocusType.FIELD }),\n      focusHome: () => this.setState({ stageFocus: stageFocusType.HOME }),\n      focusKitchen: () => this.setState({ stageFocus: stageFocusType.KITCHEN }),\n      focusShop: () => this.setState({ stageFocus: stageFocusType.SHOP }),\n      incrementDay: () => this.incrementDay(),\n      nextView: this.focusNextView.bind(this),\n      openAccounting: () =>\n        this.setState({ currentDialogView: dialogView.ACCOUNTING }),\n      openAchievements: () =>\n        this.setState({ currentDialogView: dialogView.ACHIEVEMENTS }),\n      openLog: () =>\n        this.setState({ currentDialogView: dialogView.FARMERS_LOG }),\n      openPriceEvents: () =>\n        this.setState({ currentDialogView: dialogView.PRICE_EVENTS }),\n      openStats: () => this.setState({ currentDialogView: dialogView.STATS }),\n      previousView: this.focusPreviousView.bind(this),\n      selectHoe: () => this.handlers.handleFieldModeSelect(CLEANUP),\n      selectScythe: () => this.handlers.handleFieldModeSelect(HARVEST),\n      selectWateringCan: () => this.handlers.handleFieldModeSelect(WATER),\n      toggleMenu: () => this.handlers.handleMenuToggle(),\n    }\n\n    // TODO: Disable this is non-dev environments.\n    Object.assign(this.keyMap, {\n      clearPersistedData: 'shift+d',\n      waterAllPlots: 'w',\n    })\n\n    Object.assign(this.keyHandlers, {\n      clearPersistedData: () => this.clearPersistedData(),\n      waterAllPlots: () => this.waterAllPlots(this.state),\n    })\n  }\n\n  initReducers() {\n    ;[\n      'adjustLoan',\n      'computeStateForNextDay',\n      'changeCowName',\n      'clearPlot',\n      'fertilizeCrop',\n      'harvestAll',\n      'harvestPlot',\n      'hugCow',\n      'makeRecipe',\n      'modifyCow',\n      'purchaseCow',\n      'purchaseCowPen',\n      'purchaseField',\n      'purchaseItem',\n      'plantInPlot',\n      'sellItem',\n      'sellAllOfItem',\n      'sellCow',\n      'selectCow',\n      'setScarecrow',\n      'setSprinkler',\n      'showNotification',\n      'waterField',\n      'waterAllPlots',\n      'waterPlot',\n    ].forEach(reducerName => {\n      const reducer = reducers[reducerName]\n\n      this[reducerName] = (...args) => {\n        this.setState(state => reducer(state, ...args))\n      }\n    })\n  }\n\n  componentDidMount() {\n    this.localforage.getItem('state').then(state => {\n      if (state) {\n        const { newDayNotifications } = state\n        this.setState({ ...state, newDayNotifications: [] }, () => {\n          newDayNotifications.forEach(({ message, severity }) =>\n            this.showNotification(message, severity)\n          )\n        })\n      } else {\n        // Initialize new game\n        this.incrementDay(true)\n        this.showNotification(LOAN_INCREASED`${STANDARD_LOAN_AMOUNT}`, 'info')\n      }\n\n      this.setState({ hasBooted: true })\n    })\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { hasBooted, stageFocus, isMenuOpen } = this.state\n\n    // The operations after this if block concern transient gameplay state, but\n    // componentDidUpdate runs as part of the rehydration/bootup process. So,\n    // check to see if the app has completed booting before doing anything with\n    // this transient state.\n    if (!hasBooted) {\n      return\n    }\n\n    const updatedAchievementsState = reducers.updateAchievements(\n      this.state,\n      prevState\n    )\n\n    if (updatedAchievementsState !== this.state) {\n      this.setState(() => updatedAchievementsState)\n    }\n\n    if (\n      this.state.stageFocus === stageFocusType.COW_PEN &&\n      prevState.stageFocus !== stageFocusType.COW_PEN\n    ) {\n      this.setState(() => ({ selectedCowId: '' }))\n    }\n\n    if (stageFocus !== prevState.stageFocus && isMenuOpen) {\n      this.setState(() => ({ isMenuOpen: !doesMenuObstructStage() }))\n    }\n\n    ;[\n      'showCowPenPurchasedNotifications',\n      'showRecipeLearnedNotifications',\n    ].forEach(fn => this[fn](prevState))\n  }\n\n  clearPersistedData() {\n    this.localforage\n      .clear()\n      .then(() => this.showNotification('localforage.clear() succeeded!'))\n  }\n\n  /**\n   * @param {farmhand.state} prevState\n   */\n  showCowPenPurchasedNotifications(prevState) {\n    const {\n      state: { purchasedCowPen },\n    } = this\n\n    if (purchasedCowPen !== prevState.purchasedCowPen) {\n      const { cows } = PURCHASEABLE_COW_PENS.get(purchasedCowPen)\n\n      this.showNotification(COW_PEN_PURCHASED`${cows}`)\n    }\n  }\n\n  /**\n   * @param {farmhand.state} prevState\n   */\n  showRecipeLearnedNotifications({ learnedRecipes: previousLearnedRecipes }) {\n    Object.keys(this.state.learnedRecipes).forEach(recipeId => {\n      if (!previousLearnedRecipes.hasOwnProperty(recipeId)) {\n        this.showNotification(RECIPE_LEARNED`${recipesMap[recipeId]}`)\n      }\n    })\n  }\n\n  /**\n   * @param {boolean} [isFirstDay=false]\n   */\n  incrementDay(isFirstDay = false) {\n    const nextDayState = reducers.computeStateForNextDay(this.state, isFirstDay)\n    const pendingNotifications = [...nextDayState.newDayNotifications]\n\n    // This would be cleaner if setState was called after localForage.setItem,\n    // but updating the state first makes for a more responsive user\n    // experience. The persisted state is computed post-update and stored\n    // asynchronously, thus avoiding state changes from being blocked.\n\n    this.setState(\n      { ...nextDayState, newDayNotifications: [], notifications: [] },\n      () => {\n        this.localforage\n          .setItem(\n            'state',\n            Farmhand.reduceByPersistedKeys({\n              ...this.state,\n\n              // Old pendingNotifications are persisted so that they can be\n              // shown to the player when the app reloads.\n              newDayNotifications: pendingNotifications,\n            })\n          )\n          .then(({ newDayNotifications }) =>\n            []\n              .concat(newDayNotifications)\n              .concat(\n                isFirstDay\n                  ? []\n                  : [{ message: PROGRESS_SAVED_MESSAGE, severity: 'info' }]\n              )\n              .forEach(({ message, severity }) =>\n                this.showNotification(message, severity)\n              )\n          )\n          .catch(e => {\n            console.error(e)\n\n            this.showNotification(JSON.stringify(e))\n          })\n      }\n    )\n  }\n\n  focusNextView() {\n    const { viewList } = this\n\n    this.setState(({ stageFocus }) => {\n      const currentViewIndex = viewList.indexOf(stageFocus)\n\n      return { stageFocus: viewList[(currentViewIndex + 1) % viewList.length] }\n    })\n  }\n\n  focusPreviousView() {\n    const { viewList } = this\n\n    this.setState(({ stageFocus }) => {\n      const currentViewIndex = viewList.indexOf(stageFocus)\n\n      return {\n        stageFocus:\n          viewList[\n            currentViewIndex === 0\n              ? viewList.length - 1\n              : (currentViewIndex - 1) % viewList.length\n          ],\n      }\n    })\n  }\n\n  render() {\n    const {\n      fieldToolInventory,\n      handlers,\n      keyHandlers,\n      keyMap,\n      plantableCropInventory,\n      playerInventory,\n      playerInventoryQuantities,\n      viewList,\n      viewTitle,\n    } = this\n\n    // Bundle up the raw state and the computed state into one object to be\n    // passed down through the component tree.\n    const gameState = {\n      ...this.state,\n      fieldToolInventory,\n      plantableCropInventory,\n      playerInventory,\n      playerInventoryQuantities,\n      viewList,\n      viewTitle,\n    }\n\n    return (\n      <GlobalHotKeys keyMap={keyMap} handlers={keyHandlers}>\n        <MuiThemeProvider theme={theme}>\n          <FarmhandContext.Provider value={{ gameState, handlers }}>\n            <div className=\"Farmhand fill\">\n              <AppBar />\n              <Drawer\n                {...{\n                  className: 'sidebar-wrapper',\n                  open: gameState.isMenuOpen,\n                  variant: 'persistent',\n                  PaperProps: {\n                    className: 'sidebar',\n                  },\n                }}\n              >\n                <Navigation />\n                <ContextPane />\n                <DebugMenu />\n              </Drawer>\n              <Stage />\n\n              {/*\n              The .end-day button needs to be at this top level instead of the\n              Stage because of scrolling issues in iOS.\n              */}\n              <Tooltip\n                {...{\n                  placement: 'left',\n                  title: (\n                    <>\n                      <p>\n                        End the day to save your progress and advance the game.\n                      </p>\n                      <p>(shift + c)</p>\n                    </>\n                  ),\n                }}\n              >\n                <Fab\n                  {...{\n                    'aria-label':\n                      'End the day to save your progress and advance the game.',\n                    className: 'end-day',\n                    color: 'primary',\n                    onClick: handlers.handleClickEndDayButton,\n                  }}\n                >\n                  <HotelIcon />\n                </Fab>\n              </Tooltip>\n            </div>\n            <NotificationSystem />\n          </FarmhandContext.Provider>\n        </MuiThemeProvider>\n      </GlobalHotKeys>\n    )\n  }\n}\n","/**\n * @namespace farmhand\n */\n\n/**\n * Lookup table for the lifecycle durations of a crop (in days).\n * @typedef farmhand.cropTimetable\n * @readonly\n * @type {Object}\n * @property {number} seed\n * @property {number} growing\n */\n\n/**\n * Reference object for an item.\n * @typedef farmhand.item\n * @type {Object}\n * @readonly\n * @property {string} id\n * @property {string} name\n * @property {number} value\n * @property {string} type\n * @property {farmhand.cropTimetable} [cropTimetable]\n * @property {farmhand.module:enums.cropType} [cropType]\n * @property {string} [description] A user-friendly description of the item.\n * @property {string} [enablesFieldMode] The fieldMode that this item enables.\n * @property {string} [growsInto] The id of another farmhand.item.\n * @property {boolean} [doesPriceFluctuate] Whether or not this item has a\n * value that fluctuates from day to day.\n * @property {number} [hoveredPlotRange] The number to set.\n * farmhand.state.hoveredPlotRange to when the item is active.\n * @property {boolean} [isPlantableCrop]\n * @property {boolean} [isReplantable]\n * @property {number} [quanitity] How many of the item the player has.\n */\n\n/**\n * This is a minimalist base type to be inherited and expanded on by types like\n * farmhand.crop. This also represents non-crop plot content like scarecrows\n * and sprinklers.\n * @typedef farmhand.plotContent\n * @type {Object}\n * @property {string} itemId\n */\n\n/**\n * Represents a crop as it proceeds through the lifecycle.\n * @typedef farmhand.crop\n * @type {farmhand.plotContent}\n * @property {number} daysOld\n * @property {number} daysWatered\n * @property {boolean} isFertilized\n * @property {boolean} wasWateredToday\n */\n\n// Note: At some point farmhand.cow will be abstracted to farmhand.animal, but\n// there's only one animal so far so the abstraction isn't helpful yet.\n/**\n * @typedef farmhand.cow\n * @type {Object}\n * @property {number} baseWeight\n * @property {number} daysOld\n * @property {number} happiness 0-1.\n * @property {number} happinessBoostsToday\n * @property {string} name\n * @property {number} weightMultiplier Clamped between 0.5 and 1.5.\n */\n\n/**\n * @callback farmhand.recipeCondition\n * @param {farmhand.state} state\n * @returns {boolean}\n */\n\n/**\n * @typedef farmhand.recipe\n * @readonly\n * @type {farmhand.item}\n * @property {number} markup The additional value on top of the sum total of\n * the standardized ingredient cost.\n * @property {{[farmhand.item.id]: number}} ingredients An object where each\n * key is the id of a farmhand.item and the value is the quantity of that item.\n * @property {farmhand.recipeCondition} condition This must return `true` for\n * the recipe to be made available to the player.\n */\n\n/**\n * @typedef farmhand.priceEvent\n * @type {Object}\n * @property {string} itemId\n * @property {number} daysRemaining\n */\n\n/**\n * @callback farmhand.achievementCondition\n * @param {farmhand.state} state\n * @param {farmhand.state} prevState\n * @returns {boolean}\n */\n\n/**\n * @callback farmhand.achievementReward\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\n\n/**\n * @typedef farmhand.achievement\n * @readonly\n * @type {Object}\n * @property {string} id\n * @property {string} name\n * @property {string} description\n * @property {string} rewardDescription\n * @property {farmhand.achievementCondition} condition\n * @property {farmhand.achievementReward} reward\n */\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport './index.sass'\nimport Farmhand from './Farmhand'\nimport 'typeface-francois-one'\nimport 'typeface-public-sans'\n\nReactDOM.render(<Farmhand />, document.getElementById('root'))\n"],"sourceRoot":""}